<?xml version="1.0" encoding="UTF-8"?>
<book version="5.0" xmlns="http://docbook.org/ns/docbook"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      xmlns:xi="http://www.w3.org/2001/XInclude"
      xmlns:svg="http://www.w3.org/2000/svg"
      xmlns:m="http://www.w3.org/1998/Math/MathML"
      xmlns:html="http://www.w3.org/1999/xhtml"
      xmlns:db="http://docbook.org/ns/docbook">
  <info>
    <title>Akeeba Data Compliance</title>

    <authorgroup>
      <author>
        <personname><firstname>Nicholas</firstname><othername>K.</othername><surname>Dionysopoulos</surname></personname>
      </author>
    </authorgroup>

    <copyright>
      <year>2018-2022</year>

      <holder>Akeeba Ltd</holder>
    </copyright>

    <legalnotice>
      <para>Permission is granted to copy, distribute and/or modify this
      document under the terms of the GNU Free Documentation License, Version
      1.3 or any later version published by the Free Software Foundation; with
      no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts. A
      copy of the license is included in the appendix entitled "The GNU Free
      Documentation License".</para>
    </legalnotice>
  </info>

  <part xml:id="part1-users-guide">
    <title>User's Guide</title>

    <chapter xml:id="introduction">
      <title>Introduction</title>

      <section>
        <title>Introducing Akeeba Data Compliance</title>

        <para><application>Akeeba Data Compliance</application> is a simple to
        use solution for compliance with the European Union's General Data
        Protection Regulation (GDPR) which came into effect May 25th, 2018. It
        allows you to easily handle users giving or revoking their consent to
        data processing, as well as provide a self-service approach to data
        export and user profile deletion. Further to that it can help you with
        the data minimization requirements of GDPR by deleting inactive user
        profiles automatically, after users are suitably notified.</para>

        <para>Since version 1.1.0 it also helps you comply with the ePrivacy
        Directive extension which is lex specialis to the GDPR (extends and
        specialises the GDPR to cookie handling) and which comes into effect
        in 2019. Unlike competing solutions, we do that in a way that is fully
        compatible with the way Joomla! is supposed to work and does not cause
        adverse effects to the operation of your site.</para>

        <para><application>Akeeba Data Compliance</application> is Free
        Software. You can redistribute it and/or modify it under the terms of
        the GNU General Public License as published by the Free Software
        Foundation, either version 3 of the License, or (at your option) any
        later version. This program is distributed in the hope that it will be
        useful, but WITHOUT ANY WARRANTY; without even the implied warranty of
        MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
        General Public License for more details. You should have received a
        copy of the GNU General Public License along with this program. If
        not, see <link
        xlink:href="https://www.gnu.org/licenses/gpl-3.0.en.html">the text of
        GPL v3.0 on the GNU site</link>.</para>

        <para>Akeeba Ltd has chosen not to charge a fee for this software and
        its documentation. However, we cannot guarantee user support or
        customization (including implementation of features we don't need on
        our own site). Thank you for your understanding!</para>
      </section>

      <section xml:id="requirements">
        <title>Server environment requirements</title>

        <para>In order to work, <application>Akeeba Data Compliance
        </application>requires the following server software
        environment:</para>

        <itemizedlist>
          <listitem>
            <para><trademark>Joomla!</trademark> and PHP version
            compatibilities are detailed in <link
            xlink:href="https://www.akeeba.com/compatibility.html">our
            Compatibility page</link>. At the time of this writing the minimum
            requirements are PHP 7.1 or later and Joomla! 3.8 or later.</para>
          </listitem>

          <listitem>
            <para><productname>MySQL</productname> 5.6 or later. Akeeba
            DataCompliance does not support PostgreSQL and Microsoft SQL
            Server / Azure SQL Server databases.</para>
          </listitem>

          <listitem>
            <para>32MB of PHP memory_limit. At least 128MB recommended for
            best performance.</para>
          </listitem>

          <listitem>
            <para>Ability to run <emphasis role="bold">command line</emphasis>
            CRON jobs. If your host only allows you to call a URL you will not
            be able to use the data minimization features.</para>
          </listitem>
        </itemizedlist>

        <para>As far as the browser is concerned, you can use any modern
        version (i.e. published within the last year) of Microsoft Edge,
        Safari, Opera, Firefox or Google Chrome. We no longer support Internet
        Explorer; our software will display incorrectly or not work at all on
        this old, buggy and obsolete browser.</para>

        <para>In any case, you must make sure that Javascript is enabled on
        your browser for the backup to work. If you are using AVG antivirus,
        please disable its Link Checker feature (and reboot your computer) as
        it is known to cause problems.</para>

        <para>You are very strongly advised to disable Internet firewalls,
        antivirus applications and browser extensions which interfere with the
        site's loading such as script blockers (such as NoScript) and ad
        blockers (such as AdBlockPlus) <emphasis>only for the domains you are
        using the software on</emphasis>. Remember that these applications and
        browser extensions are designed to protect you against third party
        sites. As a result they are very aggressive and WILL break your own
        sites. We can't do anything about it: your computer and your browser
        are under your control alone.</para>
      </section>

      <section xml:id="technology-overview">
        <title>Technology overview</title>

        <para><application>Akeeba DataCompliance </application>is more than
        just a component. In fact, its component is only used to render the
        interface and handle some common work. Most of the features are
        implemented as plugins to ensure extensibility, even by third
        parties.</para>

        <para>The System - Data Compliance plugin is used to implement the
        captive login page which requires your clients to give their consent
        to data processing before continuing to use your site.</para>

        <para>The User - Data Compliance plugin is used to add links to Data
        Compliance in user profiles and handle other aspects of data
        processing consent.</para>

        <para>There are a number of plugins of the <code>datacompliance</code>
        type. These are the integrations with personal information data
        sources, i.e. Joomla itself and third party components. Each of these
        plugins informs Data Compliance of the personal information kept for
        each user, lets it delete this information, informs Data Compliance
        whether a user profile can be deleted and provides information about
        which profiles are to be considered expired. Data Compliance ships
        with a number of plugins for core Joomla! and Akeeba extensions. The
        API is open and any third party developer can create their own plugins
        for their software.</para>

        <para>Please note that the cookie law compliance plugin is documented
        in a separate chapter further down this documentation.</para>
      </section>
    </chapter>

    <chapter xml:id="installation-updates-upgrades">
      <title>Installation, updates and upgrades</title>

      <section xml:id="installing">
        <title>Installing Akeeba Data Compliance</title>

        <para>Installing <application>Akeeba Data Compliance</application> is
        no different than installing any other <trademark>Joomla!</trademark>
        extension on your site. You can read the complete instructions for
        installing <trademark>Joomla!</trademark> extensions on the <link
        xlink:href="https://docs.joomla.org/Installing_an_extension">official
        help page</link>. Throughout this chapter we assume that you are
        familiar with these instructions and we will try not to duplicate
        them.</para>

        <section>
          <title>Installing or manually updating the extension</title>

          <para>Just like with most Joomla! extensions there are two ways to
          install or manually update Akeeba Data Compliance on your
          site:</para>

          <itemizedlist>
            <listitem>
              <para>Install from URL. It is the easiest and fastest one, if
              your server supports it. Most servers do support this
              method.</para>
            </listitem>

            <listitem>
              <para>Upload and install. That's the typical extension
              installation method for Joomla! extensions. It rarely
              fails.</para>
            </listitem>
          </itemizedlist>

          <para>Please note that installing and updating Akeeba Data
          Compliance (and almost all Joomla! extensions) is actually the same
          thing. If you want to update Akeeba Data Compliance please remember
          that you <emphasis role="bold">MUST NOT</emphasis> uninstall it
          before installing the new version! When you uninstall Akeeba Data
          Compliance you will lose all your settings. This is definitely
          something you do not want to happen! Instead, simply install the new
          version on top of the old one. Joomla! will figure out that you are
          doing an update and will treat it as such, automatically.</para>

          <tip>
            <para>If you find that after installing or updating Akeeba Data
            Compliance it is missing some features or doesn't work, please try
            installing the same version a second time, without uninstalling
            the component. The reason is that very few times the Joomla!
            extensions installer infrastructure gets confused and fails to
            copy some files or entire folders. By repeating the installation
            you force it to copy the missing files and folders, solving the
            problem.</para>
          </tip>

          <section xml:id="installing-from-url">
            <title>Install from URL</title>

            <para>The easiest way to install Akeeba Data Compliance is using
            the Install from URL feature in Joomla!.</para>

            <important>
              <para>This Joomla! feature requires that your server supports
              fopen() URL wrappers (<option>allow_url_fopen</option> is set to
              1 in your server's <filename>php.ini</filename> file) or has the
              PHP cURL extension enabled. Moreover, if your server has a
              firewall, it has to allow TCP connections over ports 80 and 443
              to GitHub's servers where the file is stored. If you don't see
              any updates or if they fail to download please ask your host to
              check that these conditions are met. If they are met but you
              still do not see the updates please file a bug report in the
              <link xlink:href="http://forum.joomla.org/">official Joomla!
              forum</link>.</para>
            </important>

            <para>First, go to <link
            xlink:href="https://www.akeeba.com/download/official/datacompliance.html">the
            download page for Akeeba Data Compliance</link>. Find the latest
            version (at the top of the page). Right click the ZIP file and
            copy the URL.</para>

            <para>Now go to your site's administator page and click on
            <guimenu>Extensions</guimenu>,<guimenuitem> Manage</guimenuitem>.
            Click on the <guilabel>Install from URL</guilabel> tab. Clear the
            contents of the <guilabel>Install URL</guilabel> field and paste
            the URL you copied from our site's download page. Then click on
            the <guibutton>Install</guibutton> button. Joomla! will download
            and install the Akeeba Data Compliance update.</para>

            <para>If Joomla! cannot download the package, please use one of
            the methods described in this section of the documentation. If,
            however you get an error about copying files, folder not found or
            a cryptic "-1" error please follow <link
            xlink:href="https://www.akeeba.com/documentation/troubleshooter/abinstallation.html">our
            installation troubleshooting instructions</link>.</para>
          </section>

          <section xml:id="installing-upload">
            <title>Upload and install.</title>

            <para>You can download the latest installation packages from <link
            xlink:href="https://www.akeeba.com/download/official/datacompliance.html">the
            download page for Akeeba Data Compliance</link>. Please note that
            the latest version is always on top. Click on the ZIP file version
            you want to download and install.</para>

            <para>All Akeeba Data Compliance installation packages contain the
            component and all of its associated extensions. Installing it will
            install all of these items automatically. It can also be used to
            upgrade Akeeba Data Compliance; just install it
            <emphasis>without</emphasis> uninstalling the previous
            release.</para>

            <para>In any case, do not extract the ZIP files yet!</para>

            <warning>
              <para><emphasis role="bold">Attention Mac OS X users</emphasis>!
              Safari, the default web server provided to you by Apple, is
              automatically extracting the ZIP file into a directory and
              removes the ZIP file. In order to install the extension through
              Joomla!'s extensions installer you must select that directory,
              right-click on it and select Compress to get a ZIP file of its
              contents. This behaviour was changed in Mac OS X Mountain Lion,
              but people upgrading from older versions of Mac OS X (Mac OS X
              Lion and earlier) will witness the old, automatic ZIP
              extraction, behaviour.</para>
            </warning>

            <para>Log in to your site's administrator section. Click on
            <guimenu>Extensions</guimenu>, <guimenuitem>Manage</guimenuitem>
            link on the top menu. Please click on the <guilabel>Upload Package
            File</guilabel> tab. Drag and drop the installation ZIP file you
            had previously downloaded to start the upload and the
            installation. After a short while, <trademark>Joomla!</trademark>
            will tell you that the component has been installed.</para>

            <warning>
              <para>Akeeba Data Compliance is a big extension. Some servers do
              not allow you to upload files that big. If this is the case you
              can ask your host to follow <link
              xlink:href="https://www.akeeba.com/documentation/troubleshooter/abinstallation.html">our
              installation troubleshooting instructions</link> under "You get
              an error about the package not being uploaded to the
              server".</para>

              <para>If you have WAMPServer (or any other prepackaged local
              server), please note that its default configuration does not
              allow files over 2Mb to be uploaded. To work around that you
              will need to modify your php.ini and restart the server. On
              WAMPserver left-click on the WAMP icon (the green W), click on
              <guimenu>PHP</guimenu>, <guimenuitem>php.ini</guimenuitem>. Find
              the line beginning with <code>upload_max_filesize</code>. Change
              it so that it reads:</para>

              <programlisting>upload_max_filesize = 6M</programlisting>

              <para>Save this file. Now, left-click on the WAMP icon, click on
              <guimenu>Apache</guimenu>, <guisubmenu>Service</guisubmenu>,
              <guimenuitem>Restart Service</guimenuitem> and you can now
              install the component. Editing the <filename>php.ini</filename>
              file should also work on all other servers, local and live
              alike.</para>
            </warning>

            <para>If the installation did not work, please take a look at
            <link
            xlink:href="https://www.akeeba.com/documentation/troubleshooter/abinstallation.html">our
            installation troubleshooting instructions</link>.</para>
          </section>
        </section>
      </section>

      <section xml:id="update">
        <title>Automatic updates</title>

        <para>Akeeba Data Compliance can be updated just like any other
        Joomla! extension, using the Joomla! extensions update feature. Please
        note that Joomla! is fully responsible for discovering available
        updates and installing them on your site. Akeeba Ltd does not have any
        control of the update process.</para>

        <note>
          <para>This Joomla! feature requires that your server supports
          fopen() URL wrappers (<option>allow_url_fopen</option> is set to 1
          in your server's <filename>php.ini</filename> file) or has the PHP
          cURL extension enabled. Moreover, if your server has a firewall, it
          has to allow TCP connections over ports 80 and 443 to GitHub's
          servers. If you don't see any updates or if they fail to download
          please ask your host to check that these conditions are met. If they
          are met but you still do not see the updates please file a bug
          report in the <link xlink:href="http://forum.joomla.org/">official
          Joomla! forum</link>. In the meantime you can use the manual update
          methods discussed further below this page.</para>
        </note>

        <para>You can access the extensions update feature in two different
        ways:</para>

        <itemizedlist>
          <listitem>
            <para>From the icon your Joomla! administrator control panel page.
            You will find the icon in the left-hand sidebar, under the
            <guilabel>Maintenance</guilabel> header. When there are updates
            found for any of your extensions you will see the
            <guilabel>Updates are available</guilabel> message. Clicking on it
            will get you to the Update page of Joomla! Extensions
            Manager.</para>
          </listitem>

          <listitem>
            <para>From the top menu of your Joomla! administrator click on
            <guimenu>Extensions</guimenu>, <guimenuitem>Manager</guimenuitem>.
            From that page click on the <guilabel>Update</guilabel> tab found
            in the left-hand sidebar. Clicking on it will get you to the
            Update page of Joomla! Extensions Manager.</para>
          </listitem>
        </itemizedlist>

        <para>If you do not see the updates try clicking on the
        <guibutton>Find Updates</guibutton> button in the toolbar. If you do
        not see the updates still you may want to wait up to 24 hours before
        retrying. This has to do with the way Joomla! caches the update
        information.</para>

        <para>If there is an update available for Akeeba Data Compliance tick
        the box to the left of its row and then click on the
        <guibutton>Update</guibutton> button in the toolbar. Joomla! will now
        download and install the update.</para>

        <para>If Joomla! cannot download the package, please use one of the
        manual update methods described below. If, however you get an error
        about copying files, folder not found or a cryptic "-1" error please
        follow <link
        xlink:href="https://www.akeeba.com/documentation/troubleshooter/abinstallation.html">our
        installation troubleshooting instructions</link>.</para>

        <para>If you get a white page while installing the update please try
        either the Built-in method (described above) or the manual update
        method (described below).</para>

        <bridgehead>Updating manually</bridgehead>

        <para>As noted in the <link linkend="installing">installation
        section</link>, installing and updating Akeeba Data Compliance is
        actually the same thing. If the automatic update using Joomla!'s
        extensions update feature does not work, please install the update
        manually following the instructions in the <link
        linkend="installing">installation section of this
        documentation</link>.</para>

        <important>
          <para>When installing an update manually you MUST NOT uninstall your
          existing version of Akeeba Data Compliance.</para>
        </important>

        <para>Sometimes Joomla! may forget to copy some files when updating
        extensions. If you find Akeeba Data Compliance suddenly not working or
        if you get a warning that your installation is corrupt you need to
        download the latest version's ZIP file and install it
        <emphasis>twice</emphasis> on your site, <emphasis>without</emphasis>
        uninstalling it before or in-between these installations. This will
        most certainly fix this issue.</para>

        <para>If the error occurs again after a while, without you updating
        our software, please contact your host. Some hosts will delete or
        rename files automatically and without any confirmation as part of a
        (broken and unfit for purpose) "malware scanner / antivirus".
        Unfortunately, these scanners return a lot of false positives
        -innocent files mistakenly marked as malicious- but rename / delete
        them nonetheless, breaking software installed on the server. If you
        are on such a host we very strongly recommend that you move to a
        decent host, run by people who actually know what they are doing. It
        will be far less headache for you and would actually improve your
        site's security.</para>
      </section>
    </chapter>

    <chapter xml:id="using">
      <title>Using Akeeba Data Compliance</title>

      <para>In this chapter you are going to find detailed reference of all
      the pages, options and features of the <application>Akeeba Data
      Compliance </application>component.</para>

      <section xml:id="initial-setup">
        <title>Initial setup</title>

        <para>After installing Akeeba Data Compliance there are a few things
        you need to do to get up to speed. In this section we are going to set
        up the minimum required features for the component to make
        sense.</para>

        <tip>
          <para>We strongly recommend trying Data Compliance on a copy of your
          site first. If you do not know how to make a copy of your site we
          suggest that you take a look at our <link
          xlink:href="https://www.akeeba.com/products/akeeba-backup.html">Akeeba
          Backup</link> software. The free of charge Akeeba Backup Core
          version can be easily used to create copies of your site, e.g.
          running them on a local server such as MAMP, XAMPP or
          WAMPserver.</para>
        </tip>

        <para>Before you take any further steps, you need to have a Privacy
        Statement saved as a Joomla! article. Per the GDPR it has to be
        written in plain and simple language, just like the rest of your site.
        If you are not sure what to write in there you can search for "GDPR
        privacy statement template" in your favourite search engine. Here's
        <link
        xlink:href="https://www.itgovernance.co.uk/blog/how-to-write-a-gdpr-privacy-notice-with-documentation-template-example/">an
        example</link>. Or you could even take a look at what other companies
        have. For example. here is <link
        xlink:href="https://www.akeeba.com/privacy">our Privacy
        Statement</link>. It's best to publish the article in the
        Uncategorized section of your site.</para>

        <para>After doing that go to <guimenu>Components</guimenu>,
        <guimenuitem>Akeeba Data Compliance</guimenuitem> and click on the
        <guibutton>Options</guibutton> button. Find the <guilabel>Policy
        article</guilabel> option and click <guibutton>Select</guibutton>.
        Choose the article you have just created. Finally, click on
        <guibutton>Save &amp; Close</guibutton> button in the toolbar.</para>

        <para>Now go to Extensions, Plugins and publish the following plugins
        <emphasis>in this order</emphasis>:</para>

        <itemizedlist>
          <listitem>
            <para>Data Compliance - Joomla! Core User Data</para>
          </listitem>

          <listitem>
            <para>User - Data Compliance</para>
          </listitem>

          <listitem>
            <para>System - Data Compliance</para>
          </listitem>
        </itemizedlist>

        <para>After publishing the last plugin you will immediately see a page
        asking you to consent to processing of your personal data and / or
        exercise your data rights. This is Data Compliance's <link
        linkend="self-service">self-service page</link>. This is the same page
        your site's users will see the first time they log into your
        site.</para>

        <para>You need to select <guilabel>Yes</guilabel> and click on
        <guibutton>Apply my preference</guibutton> to continue using your
        site. You are taken back to the Plugins page.</para>

        <para>This is really all you need to do if the only personal
        information you are collecting is through Joomla! itself.</para>

        <para>If you are collecting information through other components you
        will need to <link linkend="data-sources">activate and configure the
        relevant plugin of the <code>datacompliance</code> type</link>. Please
        note that Data Compliance only ships with a small number of plugins.
        You can always ask the developer of the third party extension you are
        using (e.g. VirtueMart, HikaShop, AcyMailing etc) to make Data
        Compliance plugins using our <link
        xlink:href="create-data-source-plugins">open, documented
        API</link>.</para>

        <para>While optional, we recommend that you <link
        linkend="email-templates">set up the email templates</link>. These are
        used to send out emails to your users. The default template is
        intentionally very generic.</para>

        <para>The next logical step is to <link
        linkend="component-config">configure the component</link> to choose
        who can see sensitive personal information in Data Compliance.</para>

        <para>Finally, you may want to set up CRON jobs for <link
        linkend="data-minimization">automating data minimization</link>
        (deletion of expired data profiles).</para>
      </section>

      <section xml:id="managing-pii">
        <title>Managing personal information</title>

        <para>The whole point of Data Compliance is to allow users to manage
        their Personally Identifiable Information (PII) they have stored with
        you. This means that they can:</para>

        <itemizedlist>
          <listitem>
            <para>give or withdraw their explicit consent to your processing
            of their PII;</para>
          </listitem>

          <listitem>
            <para>export the PII you have on file for them;</para>
          </listitem>

          <listitem>
            <para>request that you remove or anonymize their PII profile (user
            profile) from your site.</para>
          </listitem>
        </itemizedlist>

        <para>This allows your site to meet the GDPR requirements without
        taxing the site's administrators with the laborious tasks associated
        with users exercising their data rights.</para>

        <bridgehead renderas="sect2">Frequently asked questions</bridgehead>

        <para>Please read these questions before filing GitHub issues or
        feature requests. There's a reason why we have implemented certain
        things in a certain way.</para>

        <bridgehead>Can I change the default PII processing preference to be
        "consent has been given"?</bridgehead>

        <para>No. This is illegal. The GPDR requires you to obtain explicit
        consent and also record the date, time and IP address of the user
        giving or revoking their explicit consent. Implied consent is no
        longer admissible.</para>

        <bridgehead>Can I change the default option of the slider to Yes
        instead of No?</bridgehead>

        <para>No. The GPDR requires the users to take explicit action to
        provide their consent. According to most analysts this means that the
        default state of a slider / radio selection must be No and the default
        state of a checkbox must be unchecked.</para>

        <bridgehead>Can I limit the consent only to people coming from the EU
        (GeoIP detection)?</bridgehead>

        <para>No. The GDPR applies to natural persons based on their
        <emphasis>nationality</emphasis>, not their current location. For
        example, a German citizen currently in the United States of America
        enjoys the same protection under the GDPR as a German citizen
        currently in Berlin. This makes using GeoIP detection to determine the
        nationality of an individual legally unsound.</para>

        <para>Things are even more interesting with individuals having dual
        (or multiple) citizenship. A person who's both a US citizen and a
        Czech citizen enjoys the protections of the GDPR regardless of whether
        they have ever set foot in the Czech Republic because they are EU
        citizens (the Czech Republic is in the EU).</para>

        <bridgehead>Can an administrator change the PII processing consent of
        a user?</bridgehead>

        <para>No. This is illegal. The GDPR requires you to obtain explicit
        consent and also record the date, time and IP address of the user
        giving or revoking their explicit consent. As a result you cannot give
        consent on behalf of a user.</para>

        <para>While in theory you could be given written permissions or
        otherwise indisputable evidence of being given the power to change the
        user's consent setting we consider it beyond the scope of Data
        Compliance. These are very rare cases and they hardly make sense for a
        web site. Data Compliance is meant to be used by online-only
        businesses.</para>

        <bridgehead>Can an administrator export the PII of a user or delete
        their profile?</bridgehead>

        <para>Yes, they can. Their actions are also stored in the audit trail.
        The rationale behind this decision is that a user may have lost access
        to their email address and no longer remember their username or
        password. They can, however, contact you and provide evidence of their
        identity (e.g. a government issued photo ID) along with their request
        that you exercise their data rights on their behalf. In this case you
        are allowed to export the PII or delete the user profile of a user per
        their request.</para>

        <para>After reading both this and the previous question you might
        wonder why this rationale doesn't apply to the processing consent.
        Instead of applying their consent preference on their behalf you can
        simply change their email address, username and / or password so they
        can log back into your site and apply their consent preference. This
        means that you are legally covered: you only changed the user's data
        on their behalf, something which is also stored in the audit log, and
        they get to apply their processing preference -after logging in- per
        the GDPR requirements.</para>

        <bridgehead>Can you create a plugin for a third party extension? It
        shouldn't be too hard...</bridgehead>

        <para>No. We do not have the necessary time to analyze how a third
        party extensions works, figure out what PII it stores and how. Then we
        would have to create and test the plugin. And then we would have to
        maintain it forever, even when the third party extension changes
        substantially. This is a cost of several thousand Euros per year. It's
        not easy and it's not a cost we can afford for an extensions that
        makes us no money. Selling integrations would require putting a price
        of several hundred Euros per year on each to break even, a price
        everyone would complain about and few would pay.</para>

        <para>We made this mistake with Akeeba Subscriptions and its payment
        plugins. We would create new plugins for just the initial cost of
        development. However, the maintenance cost started racking up. We
        ultimately had to discontinue Akeeba Subscriptions as a paid product
        and remove most of the payment plugins since we could no longer afford
        maintaining them. Instead of going through the same agony all over
        again we prefer to be honest and tell you upfront that we can't do
        that. No, we cannot make an exception for you. No, really, even if you
        pay us.</para>

        <section xml:id="captive-login">
          <title>Captive login (consent page) in the front-end</title>

          <important>
            <para>This feature requires that the System and User plugins of
            Data Compliance are published on your site and their access level
            is set to Public.</para>
          </important>

          <para>Akeeba Data Compliance allows users to give or withdraw their
          explicit consent to your processing of their Personally Identifiable
          Information. Per the GDPR, the default state is that no consent is
          given.</para>

          <para>When the user has not provided their consent for their PII to
          be processed by you they cannot use the logged in section of the
          site. The reasoning is that being logged in inherently means that
          they have a cookie in their browser (Joomla's session cookie) which
          identifies them as a specific person. Therefore any action they take
          on the site can be attributed to them, the individual, which
          requires processing of their PII. The only action allowed in these
          circumstances is for them to exercise their data rights. That's why
          Data Compliance implements a “captive login” in this case.</para>

          <para>Explicitly: the “captive login” kicks in when the user has not
          yet consented to you processing their PII <emphasis>or</emphasis> if
          they have explicitly withdrawn their consent.</para>

          <para>The captive login takes the user to <link
          linkend="self-service">the Self-Service page</link> where they can
          exercise their data rights (review their consent, export their PII
          or delete their user profile). They will not be able to visit any
          other page unless they either log out first or consent to processing
          their PII.</para>
        </section>

        <section xml:id="self-service">
          <title>Self-service page</title>

          <para>The self-service page is where the users can manage their
          consent to your processing their Personally Identifiable Information
          (PII), export their PII in a machine readable format or remove their
          user profile.</para>

          <screenshot>
            <title>The self-service page</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="images/self_service_page.png" scalefit="0"
                           width="90%"/>
              </imageobject>
            </mediaobject>
          </screenshot>

          <para><bridgehead>How to get there?</bridgehead></para>

          <para>There are several ways to get to that page.</para>

          <para>If you have enabled Data Compliance's User plugin, you can
          edit your Joomla! user profile using the built-in Joomla! Users
          component. Please note that this method does not work with third
          party extensions which implement their own user profile, such as
          Community Builder. When a user is editing their profile they will
          see a <guilabel>Manage your personal data options</guilabel> link.
          Clicking on it leads you to the self-service page. This also applies
          in the backend of the site.</para>

          <para>If you are a Super User you can click edit any user's profile
          and you will see the same link. This will take you to the same page
          with a slightly different interface: it will tell you which user's
          personal data preferences you are managing and you won't be able to
          change their consent settings (because it's disallowed by the
          GDPR).</para>

          <para>Finally, you can create a Joomla frontend menu link to that
          page from Joomla's menu manager. It is recommended that you put this
          on your site's footer or the site's user menu (if applicable) to let
          users find their personal data options page more easily, fulfilling
          the GDPR requirement for easy access to the options to exercise your
          data rights.</para>

          <bridgehead>Managing the consent</bridgehead>

          <para>The top half of the self-service page allows you to manage
          your consent for processing the personal data. You can see the
          current setting for the consent preference and the controls to
          change it. Please note that the default option in the controls is
          always set to No, per the GDPR requirement for explicit action to
          provide consent. If you want to give your consent set it to
          <guilabel>Yes</guilabel>, then click on <guibutton>Apply My
          Preference</guibutton>. Conversely, if you want to revoke your
          consent set this to <guilabel>No</guilabel> and then click on
          <guibutton>Apply My Preference</guibutton>.</para>

          <para>Above the controls there is a link which reads <guilabel>Click
          here to read the Privacy Statement</guilabel>. Clicking on it opens
          a slider with the Privacy Statement article, as selected in the
          component's Options page.</para>

          <para>Below the controls there is the <guilabel>Learn more about
          your data rights here</guilabel> link. This opens a new browser tab
          or window to the European Union portal for Data protection. This
          link should not be removed as you are required by GDPR to provide a
          link to this or a similar resource to your users.</para>

          <bridgehead>Exporting the PII</bridgehead>

          <para>The bottom half section of the self-service page has two
          buttons. The first button allows you to export your user profile in
          a common, machine-readable format (XML). This lets you exercise your
          Data Portability Rights under the GDPR. Click on <guibutton>Export
          your Data</guibutton> to download an XML file to your computer. This
          contains all the PII about you which is currently known to Akeeba
          Data Compliance through its plugins.</para>

          <bridgehead>Deleting the user profile</bridgehead>

          <para>The bottom half section of the self-service page has two
          buttons. The second button allows you to wipe your user profile.
          Depending on the options made in the various Akeeba Data Compliance
          plugins this will either completely remove or at the very least
          completely pseudonymize the PII stored on record for you on the
          site. Please note that this process is <emphasis
          role="bold">irreversible</emphasis>. Furthermore, once it's complete
          it will be impossible to restore your user account and its PII.
          Therefore, clicking the <guibutton>Delete your user account
          button</guibutton> exercises your Right To Be Forgotten under the
          GDPR.</para>

          <para>Sometimes it's not possible to exercise your right to be
          forgotten. This depends on the settings of the various Akeeba Data
          Compliance through its plugins. For example, people belonging to a
          privileged group (by default: Super Users) or who have bought a
          subscription within the last few days may be denied this right. You
          are told exactly why deletion is not possible though a standard
          Joomla error message. Having an administrator of the site resolve
          that condition is necessary before wiping the user account is
          possible. Administrators should look at the settings of the various
          Akeeba Data Compliance plugins to understand why th deletion is
          prevented.</para>

          <para>If the deletion can proceed you are taken to the confirmation
          page. Here you are informed that the deletion is irreversible.
          Moreover, all the steps which will be carried out by Akeeba Data
          Compliance are explicitly stated. These bullet points come from the
          various Akeeba Data Compliance plugins. You are also informed about
          the information which exists outside the scope of Joomla and which
          cannot be deleted by Akeeba Data Compliance. At the bottom of the
          page you are asked to type a phrase (“<emphasis>I
          UNDERSTAND</emphasis>” in all caps) and click on the
          <guibutton>DELETE MY USER ACCOUNT</guibutton> button. This is your
          last chance to abort! Navigate anywhere else or close the browser
          tab to abort. If the phrase was entered correctly and the button is
          clicked the user account is wiped forever and can not be
          restored.</para>

          <para><bridgehead>Customization of the page</bridgehead></para>

          <para>Akeeba Data Compliance uses Joomla! view templates which
          follow <link
          xlink:href="https://github.com/akeeba/fof/wiki/Blade-Templates">FOF
          3's Blade template language syntax</link>. You can use <link
          xlink:href="https://docs.joomla.org/How_to_override_the_output_from_the_Joomla!_core">standard
          Joomla template overrides</link> to modify the look, feel and
          functionality of this page. By default, the HTML structure follows
          our Akeeba Frontend Framework which provides a unified look and feel
          for all of our extensions. If you need to use a different template
          framework, such as Bootstrap, you will have to do template
          overrides.</para>

          <important>
            <para>Do not change the URLs, the hidden fields or remove form
            elements when doing overrides. This could cause Akeeba Data
            Compliance to behave erratically with your overrides.</para>

            <para>You may remove or change static links, i.e. the link to
            "Learn more about your data rights".</para>

            <para>Do NOT make template overrides to modify the text on the
            page. Use <link
            xlink:href="https://docs.joomla.org/J3.x:Language_Overrides_in_Joomla">language
            overrides</link> instead.</para>
          </important>

          <para>The view template files you need to override is located
          in:</para>

          <para><filename>PATH_TO_JOOMLA/components/com_datacompliance/tmpl/Options/default.blade.php</filename>
          The self-service page</para>

          <para><filename>PATH_TO_JOOMLA/components/com_datacompliance/tmpl/Options/wipe.blade.php</filename>
          The confirmation page for wiping your user account</para>

          <para>You can create frontend (public site) overrides for these
          files in:</para>

          <para><filename>PATH_TO_JOOMLA/templates/YOUR_TEMPLATE/html/com_datacompliance/Options/default.blade.php</filename>
          The self-service page</para>

          <para><filename>PATH_TO_JOOMLA/templates/YOUR_TEMPLATE/html/com_datacompliance/Options/wipe.blade.php</filename>
          The confirmation page for wiping your user account</para>

          <para>You can create backend (administrator) overrides for these
          files in:</para>

          <para><filename>PATH_TO_JOOMLA/administrator/templates/YOUR_TEMPLATE/html/com_datacompliance/Options/default.blade.php</filename>
          The self-service page</para>

          <para><filename>PATH_TO_JOOMLA/administrator/templates/YOUR_TEMPLATE/html/com_datacompliance/Options/wipe.blade.php</filename>
          The confirmation page for wiping your user account</para>

          <para>Please note that Blade templates are compiled and cached as
          PHP view templates. If you do not see your changes taking effect
          please go to your site's backend, Cache and clear your frontend or
          backend cache.</para>
        </section>

        <section xml:id="backend-pii-management">
          <title>Managing users' personal information from the backend</title>

          <para>So far we have seen how Akeeba Data Compliance can be used by
          a user of your site to manage their own Personally Identifiable
          Information. While this is what is mostly required, sometimes an
          administrator may have to be involved. For example, a user may no
          longer remember their username or password and have lost access to
          their email address associated with it. In these cases they might
          have to contact you through different means, such as a contact form,
          email or even by an old-fashioned letter, to seek your assistance in
          exercising their data rights. Per the GDPR, you are required to
          respond to them within thirty days since the receipt of their
          request.</para>

          <tip>
            <para>If a user contacts you to exercise their data rights it's a
            good idea to ask them for some form of identification which is
            legally acceptable in case of a dispute over who authorized this
            action. Typically that's a government issued photo ID such as an
            identity card or passport, or a business ID / signed form from
            their manager if it's a company site and your user is an employee.
            There are many different cases. WE ARE NOT LAWYERS. Ask your
            lawyer if you are not sure.</para>
          </tip>

          <para>From the backend of your site you can go to Joomla's User,
          Manage (Users) page. Click on a user you want to manage and click on
          the Personal Data Options tab. There is a link here which takes you
          to a version of the Self-Service Page.</para>

          <important>
            <para>If you do not see the link to this page in the User profile
            please make sure that you have published and enabled both the
            System and the User plugin of Akeeba Data Compliance. They are
            both required for this feature to work.</para>
          </important>

          <para>Please note that you CAN NOT change the consent preferences
          for personal data processing on behalf of your user. It's illegal to
          do so. See the FAQ earlier in this documentation. You can, however,
          export their profile and / or delete their user account. The same
          notes regarding the possibility to delete their account apply as
          noted in the previous section.</para>
        </section>
      </section>

      <section xml:id="control-panel">
        <title>Dashboard (a.k.a. Control Panel) page</title>

        <screenshot>
          <title>The Dashboard page</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="images/control_panel.png" scalefit="0"
                         width="90%"/>
            </imageobject>
          </mediaobject>
        </screenshot>

        <para>This is the main backend page of Data Compliance. It allows you
        to quickly access its features.</para>

        <para>The top part of the page is Joomla's toolbar. Clicking on the
        Options button will take you to the <link
        linkend="component-config">component configuration page</link>.</para>

        <para>There is a tab bar below the toolbar. This lets you view the
        <link linkend="email-templates">Email Templates</link> setup page and
        get back to the Dashboard.</para>

        <para>The buttons in the left hand side of the main are of the page
        allow you to access the various logs and management features of Akeeba
        Data Compliance. They are covered further ahead in this
        documentation.</para>

        <para>The right hand site contains a set of graphs for quick overview
        of actions taken with Akeeba Data Compliance.</para>

        <para>The <guilabel>Active / Inactive Profiles</guilabel> doughnut
        chart gives you a quick glance of the user profiles status on your
        site. Active (non-expired) profiles are shown in green. <link
        linkend="expired-profiles">Expired profiles</link> which have not been
        deleted are shown in red. Expired profiles which have already been
        deleted are shown in grey. To conform with the GDPR data minimization
        rules the red area of this graph needs to be minimized and converted
        to grey. Not all red can disappear: some expired profiles are not
        allowed to be deleted according to the rules applied by the Data
        Compliance plugins, e.g. you can't remove Super User accounts even if
        they haven't logged into your site in years.</para>

        <para>The <guilabel>Deleted User Profiles</guilabel> stacked bar chart
        gives you more insight into when and how user profiles have been
        deleted. For each day on the last calendar month you will see a
        stacked bar with the number of profiles deleted on that day. Profiles
        deleted by the users themselves are shown in green. Profiles deleted
        by an administrator are shown in red. Profiles deleted automatically,
        using the <link linkend="data-minimization">lifecycle policy CRON
        job</link> are shown in grey.</para>
      </section>

      <section xml:id="email-templates">
        <title>Setting up the email templates</title>

        <screenshot>
          <title>Email templates</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="images/control_panel.png" scalefit="0"
                         width="90%"/>
            </imageobject>
          </mediaobject>
        </screenshot>

        <para>Akeeba Data Compliance can send out emails to the user or the
        administrator on different occasions. More specifically, it can send
        out emails when a user profile is deleted by the user themselves, when
        an administrator deletes a user profile, when the profile is deleted
        by the <link linkend="data-minimization">lifecycle policy CRON
        job</link> or as a notification before the profile is deleted by the
        lifecycle policy.</para>

        <important>
          <para>The Akeeba Data Compliance - Emails plugin must be activated
          and have the access level Public for emails to work.</para>
        </important>

        <para>Each template can be customized <emphasis>per
        language</emphasis>. Akeeba Data Compliance will determine the correct
        language to use by looking at the user profile. If no language
        preference is set for the user's site (frontend) language, it will use
        the site's default language as defined in Joomla's Languages page.
        Then it will try to find the email template in this language. If this
        is not possible, it will try to fall back to the en-GB (English, Great
        Britain) email template. If that's not found either it will try to
        fall back to the email template marked as "(All languages)". If none
        is found still no email will be sent. Only enabled email templates are
        used.</para>

        <para>While Data Compliance comes with built in email templates we
        strongly advise you to customize them to match your site's branding
        and the tone of language you commonly use. All email templates fully
        support HTML.</para>

        <warning>
          <para>All URLs in your emails, be it links to your site or static
          media files such as images, <emphasis>must</emphasis> be absolute –
          they must contain the protocol and domain name to your site. Some
          Joomla editors will convert absolute links to relative on saving and
          convert them back to absolute when you try to edit the content. For
          example, JCE (JoomlaContentEditor.net) does this. This will NOT work
          with emails.</para>

          <para>We recommend that you use CodeMirror, the HTML source code
          editor shipped with Joomla, to edit email templates.</para>
        </warning>

        <para>The Subject and Email body of each email template can contain
        the following variables, in square brackets and all capital letters.
        They are expanded to the correct text right before the email is
        sent.</para>

        <itemizedlist>
          <listitem>
            <para>[NAME] The full name of the user on whom the action is
            taken</para>
          </listitem>

          <listitem>
            <para>[EMAIL] The email address of the user</para>
          </listitem>

          <listitem>
            <para>[USERNAME] The Joomla username of the user</para>
          </listitem>

          <listitem>
            <para>[REGISTERDATE] The date the user account was registered on
            the site</para>
          </listitem>

          <listitem>
            <para>[LASTVISITDATE] The last time the user logged into their
            user account on the site</para>
          </listitem>

          <listitem>
            <para>[REQUIRERESET] Is a password reset required (0/1)</para>
          </listitem>

          <listitem>
            <para>[RESETCOUNT] How many times the password has been reset in
            the past</para>
          </listitem>

          <listitem>
            <para>[LASTRESETTIME] Last date and time (GMT) the password was
            reset</para>
          </listitem>

          <listitem>
            <para>[ACTIVATION] Activation code (there's no point using it,
            it's hashed)</para>
          </listitem>

          <listitem>
            <para>[BLOCK] Is the user account blocked? (Yes/No)</para>
          </listitem>

          <listitem>
            <para>[ID] The user's numeric account ID</para>
          </listitem>

          <listitem>
            <para>[PARAM:<replaceable>param_name</replaceable>] The value of
            the user profile parameter <replaceable>param_name</replaceable>.
            For advanced users.</para>
          </listitem>

          <listitem>
            <para>[SITENAME] The name of your site, as configured in
            Joomla</para>
          </listitem>

          <listitem>
            <para>[SITEURL] The URL to your site</para>
          </listitem>

          <listitem>
            <para>[ACTIONS] A bullet list of the actions which will be taken
            when the account is wiped</para>
          </listitem>

          <listitem>
            <para>[ADMIN:NAME] The administrator's full name, when sending
            emails to an administrator</para>
          </listitem>

          <listitem>
            <para>[ADMIN:USERNAME] The administrator's username, when sending
            emails to an administrator</para>
          </listitem>

          <listitem>
            <para>[ADMIN:EMAIL] The administrator's email address, when
            sending emails to an administrator</para>
          </listitem>
        </itemizedlist>

        <para>You can take a look at the default email templates to see how
        these variables can be used inside a template.</para>
      </section>

      <section xml:id="audit-trails">
        <title>Managing audit trails</title>

        <para>One of the fundamental requirements in GDPR is that you keep an
        audit log of all of the actions taken when your users are exercising
        their data rights. This tells us who did what, removing any doubt over
        who and why exported or removed a user's PII – or when this
        information changes. Akeeba Data Compliance can help with all of that
        by keeping audit trails.</para>

        <section xml:id="user-consents">
          <title>User Consents</title>

          <para>This audit log keeps track of the <emphasis>last</emphasis>
          time the user modified their consent to processing of their
          Personally Identifiable Information (PII). It records the user
          account, the consent date, the IP address the consent came from and
          whether consent was given or withdrawn.</para>

          <para>You can search by consent status ("Enabled") and by user. The
          user search box allows you to type a numeric user ID or a partial
          username, full name or email address.</para>
        </section>

        <section xml:id="profile-changes">
          <title>Profile Changes</title>

          <para>This audit log keeps track of every change in the core Joomla!
          user data and the user profile parameters. It records the profile
          being modified, who modified it, the date and time this took place,
          the IP address where this change was initiated as well as the
          changes made.</para>

          <para>You can search by the user being modified. The user search box
          allows you to type a numeric user ID or a partial username, full
          name or email address.</para>

          <para>If you click on the profile being modified you can see a
          detail page with all the information which was changed in the
          profile. The From column contains the old values, the To value
          contains the new values.</para>

          <important>
            <para>This audit log's records are deleted when a user account is
            wiped trough Data Compliance since it contains Personally
            Identifiable Information.</para>
          </important>
        </section>

        <section xml:id="data-exports">
          <title>Data Exports</title>

          <para>This audit log keeps track of who and when exported the PII
          for a user. It records the profile the data was exported for, who
          exported the profile, when the profile was exported and the IP
          address which initiated the export. The exported data is NOT logged
          for privacy reasons.</para>

          <para>You can search by the user whose profile was exported. The
          user search box allows you to type a numeric user ID or a partial
          username, full name or email address.</para>
        </section>

        <section xml:id="profile-deletions">
          <title>Profile Deletions</title>

          <para>This audit log keeps track of the user profiles which have
          been deleted from the site. It records which user profile has been
          deleted, who initiated the deletion, what kind of deletion it was
          (user initiated, administrator initiated or lifecycle management),
          when the deletion took place and the IP address which initiated the
          deletion (or the text CLI when it was initiated by the lifecycle
          management CRON job).</para>

          <para>You can search by the user whose profile was deleted and by
          who initiated the deletion. The user search boxes allow you to type
          a numeric user ID or a partial username, full name or email
          address.</para>
        </section>
      </section>

      <section xml:id="data-actions">
        <title>Managing data actions</title>

        <para>As <link linkend="backend-pii-management">already
        explained</link>, exporting and deleting users is possible through the
        Joomla! User Manager. However, this is not a convenient interface to
        find out which profiles are expired and so on. This is why Data
        Compliance comes with its own pages to manage data actions.</para>

        <section xml:id="expired-profiles">
          <title>Expired user profiles</title>

          <para>This page displays all users whose profiles have expired.
          Expired profiles are determined by your Data Compliance plugin
          settings. Some of the profiles cannot be deleted even though they
          are expired, e.g. when they belong to a privileged user group. These
          profiles appear in pink background color.</para>

          <note>
            <para>Why not hide the profiles which cannot be deleted? For
            performance reasons.</para>

            <para>Identifying expired profiles is a relatively fast query with
            the same criteria for all users. This means that we can get
            thousands of users matching these criteria and paginate the
            results for display.</para>

            <para>Finding the exceptions, which expired profiles cannot be
            deleted, is a set of slow queries which have to be run per user.
            On sites with thousands of users, like our own business site,
            executing these queries would take a lot of time and memory. In
            fact, it would end up crashing either PHP or the server
            itself.</para>

            <para>When we display a page of a few dozen expired profiles we
            can run these slow queries. Even though the page takes a while to
            display it doesn't crash PHP or the server. The difference is that
            in this case we run the slow queries to a fraction of all the
            expired profiles at a time, therefore taking a fraction of the
            processing power required. The only drawback is that we cannot
            exclude the exceptions from the display.</para>
          </note>

          <para>Each profile has a Manage Data Options button at the right
          hand corner. This takes you to the page to manage data options, i.e.
          export the user's profile or delete it.</para>

          <para>You can search by the maximum expiration date and by user. The
          user search box allows you to type a numeric user ID or a partial
          username, full name or email address.</para>
        </section>
      </section>

      <section xml:id="data-minimization">
        <title>Automating data minimization actions</title>

        <para>The GDPR calls for data minimization, i.e. removing the
        personally identifiable information of users when it's no longer
        needed for business purposes. While there are no hard limits in the
        law, it's generally agreed that a reasonable amount of time for
        needing PII for business purposes is around 6 months after the client
        last had an active business relationship with you. On most sites this
        means about 6 months after the last time the user logged in, had an
        active subscription and so on.</para>

        <para>Akeeba Data Compliance lets you automatically notify users with
        expired profiles that their profile will be deleted after a specific
        date unless they log in or take another action to affirm a business
        relation with you before that date. After that date and only if the
        notification email has been sent these expired profiles will be
        deleted in the same way as if the user chose to delete their profile.
        This is called a “lifecycle policy” deletion. These actions take place
        through command line scripts which can be automated with CRON
        jobs.</para>

        <important>
          <para>Your host must support real CRON jobs which lets you run PHP
          scripts on the command line. If you can only set up a URL in your
          “CRON jobs” it will NOT work with Akeeba Data Compliance. We are not
          trying to be difficult about this. We know how to write a web
          interface alternative, as evidenced by doing the same with Akeeba
          Backup, it's just that we haven't found the time yet to do
          so.</para>
        </important>

        <para>The conditions to consider a profile “expired”, i.e. the user
        account lifecycle policies for your site, are controlled by the
        options of the Data Compliance plugins.</para>

        <section xml:id="cron-notify">
          <title>Notify users before their profile is automatically
          deleted</title>

          <para>Script location:
          <filename><replaceable>JOOMLA_ROOT</replaceable>/cli/datacompliance_lifecycle_notify.php</filename></para>

          <para>This script notifies users that their account is going to be
          deleted due to user account lifecycle policies on your site and
          gives them information to prevent that. The Akeeba Data Compliance -
          Email plugin must be enabled for this to work correctly. Your site
          must be configured to be able to send out email. Check your Joomla
          Global Configuration if you are not sure.</para>

          <para>You can schedule this script using the following command line
          to your host's CRON interface:</para>

          <programlisting><replaceable>/usr/local/bin/php</replaceable> <replaceable>JOOMLA_ROOT</replaceable>/cli/datacompliance_lifecycle_notify.php --confirm=0</programlisting>

          <para>where <replaceable>/usr/local/bin/php</replaceable> is the
          path to your PHP CLI executable and
          <replaceable>JOOMLA_ROOT</replaceable> is the absolute path to your
          web site's root. You can get this information from your host.</para>

          <para>The script accepts the following parameters</para>

          <itemizedlist>
            <listitem>
              <para><option>--debug</option> When present it turns on debug
              mode. Only for developers. Do not use on live sites.</para>
            </listitem>

            <listitem>
              <para><option>--period interval_spec</option> How long before
              the account expiration date should users be notified? The
              interval_spec is a <link
              xlink:href="http://php.net/manual/en/dateinterval.construct.php">PHP
              DateInterval interval specification</link>. The default value is
              <parameter>P1M</parameter> which means one month.</para>
            </listitem>

            <listitem>
              <para><option>--confirm</option> Should I ask for confirmation
              before sending out each email? Default is 1 (ask for
              confirmation, expecting input from the keyboard). When using in
              CRON scripts use <option>--confirm=0</option> to prevent this
              behaviour.</para>
            </listitem>

            <listitem>
              <para><option>--dry-run</option> No emails will be sent. The
              script will run normally and output all actions it would be
              taking without really sending out the emails. Useful for the
              first few runs while you're getting things set up.</para>
            </listitem>
          </itemizedlist>
        </section>

        <section xml:id="cron-delete-expired">
          <title>Automatically delete expired user profiles</title>

          <para>Script location:
          <filename><replaceable>JOOMLA_ROOT</replaceable>/cli/datacompliance_account_lifecycle.php</filename></para>

          <para>This script deletes expired user accounts as long as they have
          already been notified. The Akeeba Data Compliance - Email plugin
          must be enabled for emails to be sent out to users when their
          accounts are being deleted. In this case your site must be
          configured to be able to send out email. Check your Joomla Global
          Configuration if you are not sure.</para>

          <para>You can schedule this script using the following command line
          to your host's CRON interface:</para>

          <programlisting><replaceable>/usr/local/bin/php</replaceable> <replaceable>JOOMLA_ROOT</replaceable>/cli/datacompliance_account_lifecycle.php --confirm=0</programlisting>

          <para>where <replaceable>/usr/local/bin/php</replaceable> is the
          path to your PHP CLI executable and
          <replaceable>JOOMLA_ROOT</replaceable> is the absolute path to your
          web site's root. You can get this information from your host.</para>

          <para>The script accepts the following parameters</para>

          <itemizedlist>
            <listitem>
              <para><option>--debug</option> When present it turns on debug
              mode. Only for developers. Do not use on live sites.</para>
            </listitem>

            <listitem>
              <para><option>--memdebug</option> Displays additional
              information about memory consumption. For developers and power
              users.</para>
            </listitem>

            <listitem>
              <para><option>--force</option> Delete expired user accounts even
              if they have not been notified. This is useful for the first run
              on a site with thousands of expired accounts you do not want to
              notify before deleting. <emphasis role="bold">THIS IS EXTREMELY
              DANGEROUS!</emphasis> Use it with --dry-run first to make sure
              that it does what you think it should be doing.</para>
            </listitem>

            <listitem>
              <para><option>--confirm</option> Should I ask for confirmation
              before deleting each user? Default is 1 (ask for confirmation,
              expecting input from the keyboard). When using in CRON scripts
              use <option>--confirm=0</option> to prevent this
              behaviour.</para>
            </listitem>

            <listitem>
              <para><option>--dry-run</option> No deletions will take place.
              The script will run normally and output all actions it would be
              taking without really deleting any user account. Useful for the
              first few runs while you're getting things set up.</para>
            </listitem>
          </itemizedlist>
        </section>
      </section>

      <section xml:id="configuration">
        <title>Configuration</title>

        <para>GDPR compliance is most definitely not a one-size-fits-all
        affair. It is tied to the way your site is collecting and using
        personally identifiable information. Decisions about how to delete
        this data or when a profile is expired, or when it shouldn't be
        deleted, may also vary depending on your business needs and what your
        lawyer has consulted you.</para>

        <para>Akeeba Data Compliance gives you plenty of options to tailor it
        to your needs. These options can be found either at the component
        itself or its plugins.</para>

        <section xml:id="component-config">
          <title>Component configuration</title>

          <para>Component configuration is accessible from the backend of your
          site in the same way that's customary for all Joomla! components.
          The easiest way is going to <guimenu>Components</guimenu>,
          <guimenuitem>Akeeba Data Compliance</guimenuitem> and clicking the
          <guibutton>Options</guibutton> button in the toolbar.</para>

          <para>Alternatively, you can go to <guimenu>System</guimenu>,
          <guimenuitem>Global Configuration</guimenuitem> and click on
          <guilabel>Akeeba Data Compliance</guilabel> from the left-hand list
          of Components.</para>

          <bridgehead>Consent Page Options</bridgehead>

          <para>The first tab is called <guilabel>Consent Page
          Options</guilabel> and it controls the way the self-service page of
          Data Compliance works on your site.</para>

          <para>The <guilabel>Policy Article</guilabel> options lets you
          choose a Joomla article which contains your site's Privacy Statement
          per the GDPR requirements. Remember that when the self-service page
          is shown to a user who has not yet provided their consent they
          cannot navigate outside of that page. Therefore it's advisable to
          not include any links to other pages on your site in this article as
          they will be inaccessible to the user.</para>

          <para>The <guilabel>Show Export Button</guilabel> and <guilabel>Show
          Delete Button</guilabel> options control whether the button to
          export the personal information to XML and to delete the user
          profile, respectively, will be shown to the user. If they are not
          shown you will have to take and fulfil these requests
          manually.</para>

          <bridgehead>FEF Handling</bridgehead>

          <para>Our software is using Akeeba Frontend Framework (FEF) to style
          its output in the frontend (public site) and backend (administrator)
          of your site. If you would rather provide your own styling by doing
          template overrides and / or loading your own CSS it's recommended
          that you disable loading of FEF's CSS files. You can control this
          behavior with these options.</para>

          <para><guilabel>Load Akeeba FEF</guilabel> controls when the FEF CSS
          will be loaded: Never, Frontend Only, Backend Only or Both (frontend
          and backend). Kindly note that the backend interface will look
          broken if you do not load FEF and you do not supply template
          overrides for every single backend page.</para>

          <para><guilabel>Load CSS reset with Akeeba FEF</guilabel> controls
          an optional behavior of FEF. We load a CSS reset (forcing the values
          of several CSS attributes to predictable values) inside the DIV that
          contains Akeeba Data Compliance's output. This is done to prevent
          third party CSS, such as the Joomla-supplied Bootstrap 2 files, from
          interfering with the layout. If you are going to be overriding the
          layout with your own CSS you should not be loading the CSS reset.
          The options here are the same as for the previous setting.</para>

          <bridgehead>Permissions</bridgehead>

          <para>This is the standard Joomla! ACL configuration page for the
          component. Apart from Joomla's typical permissions, Akeeba Data
          Compliance comes with its own, special permissions.</para>

          <para><guilabel>Audit trails</guilabel> controls whether the backend
          user can view any of the audit trails kept by Akeeba Data
          Compliance. Please note that this is a unique case of a permission
          in that it controls <emphasis>viewing information</emphasis>, not
          taking an action on it.</para>

          <para><guilabel>Delete profiles</guilabel> controls whether the user
          is allowed to delete the profiles of other users.</para>

          <para><guilabel>Export profiles</guilabel> controls whether the user
          is allowed to export the personal information of other users.</para>

          <para>Due to the way Joomla! works, Super Users (that is: any user
          belonging to a group with the Super User privilege) has all of these
          privileges and <emphasis>they can not be taken away from
          them</emphasis>. For better GDPR compliance it's advisable to create
          a new user group with more permissions than Administrator but less
          than Super User for those administrators who need extended
          privileges on the site but who should not be able to take actions or
          view personally identifiable information of other users. Doing that
          is outside the scope of Akeeba Data Compliance: the tools to do that
          (Permissions) are given to you by Joomla itself!</para>
        </section>

        <section xml:id="system-config">
          <title>System plugin configuration</title>

          <para>The <guilabel>System - Data Compliance</guilabel> plugin makes
          it possible to capture the login of users who have not yet consented
          to processing of their personal information. It's advisable to keep
          it published at all times.</para>

          <para>The captive login works by means of redirections. If the
          current user has not provided their consent (or has withdrawn their
          consent) they are immediately redirected to Data Compliance's self
          service page. Trying to navigate to another page causes another
          redirection. This way the user is captured in the self-service page
          until they provide consent (they can also log out of the site if
          they want to).</para>

          <para>The same trick may be used by other components to provide a
          captive login. For example, Akeeba LoginGuard (our Two Step
          Verification component for Joomla) does the same thing. To prevent a
          redirection loop you must let Data Compliance know which third party
          components are allowed to be accessed without the user providing
          their consent. Moreover, you can specify other components here which
          don't collect personal information and are therefore allowed (e.g.
          com_content which is the Joomla articles component).</para>

          <para>The Exempt components / views / tasks takes one specification
          on each line. Each specification consists of a component, view and
          task separated by dots. When you want to match any value in a
          position using <code>*</code>. For example, to allow access to
          single article views in com_content use the specification
          <code>com_content.article.*</code></para>

          <para>By default, only Akeeba LoginGuard is allowed to be accessed:
          <code>com_loginguard.*.*</code></para>
        </section>

        <section xml:id="data-sources">
          <title>Data sources configuration (<code>datacompliance</code>
          plugins)</title>

          <para>Akeeba Data Compliance, the component, does not know what
          personally identifiable information looks like, where to find it and
          where to handle it. This is the job of the plugins of the
          <code>datacompliance</code> type. These provide the interface to the
          personally identifiable data sources and take actions on that
          data.</para>

          <section xml:id="source-joomla">
            <title>Joomla! Core User Data</title>

            <para>Plugin: Data Compliance - Joomla! Core User Data</para>

            <para>It allows Data Compliance to handle information stored by
            Joomla! itself, as well as any profile fields managed by third
            party components and plugins.</para>

            <para><bridgehead>Options</bridgehead></para>

            <para><guilabel>Exempt user groups</guilabel>. The users who
            belong in these user groups cannot be deleted, either manually or
            automatically (lifecycle policies). Please note that users who
            belong in any group which has the Super User privilege are always
            exempt, regardless of this setting.</para>

            <para><guilabel>User account lifecycle</guilabel>. Do you want
            this plugin to tell Akeeba Data Compliance which user records are
            considered expired according to the options below? If you set this
            to No the following options are ignored.</para>

            <para><guilabel>Last login threshold (months)</guilabel>. User
            accounts which have not logged into your site for at least this
            many months are considered expired.</para>

            <para><guilabel>Never visited</guilabel>. User accounts who have
            never visited your site after the user account creation are
            considered expired.</para>

            <para><guilabel>Blocked accounts</guilabel>. User accounts marked
            as Blocked are considered expired. <emphasis role="bold">THIS IS
            DANGEROUS</emphasis>! Joomla will also mark user accounts as
            blocked when the user tries to reset their password and until they
            do so. This may result in active user accounts being deleted
            because they were trying to reset their password. We recommend
            AGAINST using this option.</para>
          </section>

          <section xml:id="source-akeebasubs">
            <title>Akeeba Subscriptions</title>

            <para>Plugin: Data Compliance - Akeeba Subscriptions</para>

            <para>It allows Data Compliance to handle information stored by
            Akeeba Subscriptions.</para>

            <para><bridgehead>Options</bridgehead></para>

            <para><guilabel>User account lifecycle</guilabel>. Do you want
            this plugin to tell Akeeba Data Compliance which user records are
            considered expired according to the options below? If you set this
            to No the following options are ignored.</para>

            <para><guilabel>Last expired subscription this many months
            ago</guilabel>. User accounts whose last subscription expired at
            least this many months ago are considered expired.</para>

            <para><guilabel>Exclude users who have visited the site in the
            meantime</guilabel>. Modifies the above option. If the user with
            the expired subscription has visited the site after their
            subscription expires they are not considered expired accounts. For
            most sites it's recommended to set this to Yes and use the “Last
            login threshold (months)” option in the Data Compliance - Joomla!
            Core User Data plugin to handle expiration of these user
            accounts.</para>

            <para><guilabel>Non-lifecycle deletion exemption threshold
            (days)</guilabel>. Users who created a subscription within this
            many days ago will not be allowed to be deleted. It's recommended
            to set this to the maximum chargeback period allowed by the
            payment services you are using on your site. For example, if they
            allow chargebacks for up to 90 days since the transaction was made
            you should put 90 in here.</para>
          </section>

          <section xml:id="source-ars">
            <title>Akeeba Release System</title>

            <para>Plugin: Data Compliance - Akeeba Release System</para>

            <para>It allows Data Compliance to handle information stored by
            Akeeba Release System.</para>

            <para><bridgehead>Options</bridgehead></para>

            <para>There are no options for this plugin.</para>
          </section>

          <section xml:id="source-ats">
            <title>Akeeba Ticket System</title>

            <para>Plugin: Data Compliance - Akeeba Ticket System</para>

            <para>It allows Data Compliance to handle information stored by
            Akeeba Ticket System.</para>

            <para><bridgehead>Options</bridgehead></para>

            <para>There are no options for this plugin.</para>
          </section>

          <section xml:id="source-loginguard">
            <title>Akeeba LoginGuard</title>

            <para>Plugin: Data Compliance - Akeeba LoginGuard</para>

            <para>It allows Data Compliance to handle information stored by
            Akeeba LoginGuard.</para>

            <para><bridgehead>Options</bridgehead></para>

            <para>There are no options for this plugin.</para>
          </section>
        </section>

        <section xml:id="other-plugins">
          <title>Other plugins</title>

          <para>Akeeba Data Compliance comes with optional plugins. They add
          functionality to Akeeba Data Compliance.</para>

          <section xml:id="user-plugin">
            <title>The User plugin</title>

            <para>Plugin: User - Data Compliance</para>

            <warning>
              <para>If you disable this plugin logging into the site may
              result in user accounts being deleted by the Lifecycle Policy
              feature <emphasis>WITHOUT</emphasis> being sent a warning email
              first! If unsure, publish the plugin.</para>
            </warning>

            <para>This plugin is responsible for the following features of
            Akeeba Data Compliance:</para>

            <itemizedlist>
              <listitem>
                <para>Add the <guilabel>Manage your personal data
                options</guilabel> link to the user profile edit page.</para>
              </listitem>

              <listitem>
                <para>Log any changes to the user's personal information
                (Joomla! core user profile information, user group changes,
                user profile field changes, user custom field changes).</para>
              </listitem>

              <listitem>
                <para>When a user logs in remove the information from the user
                profile which indicates that the user has already received
                warning about their account being ready to be removed due to
                the Lifecycle Policy. This means that next time their account
                is eligible for Lifecycle Policy deletion they will receive a
                new email. If this information is not removed they will not
                receive any further email in the future if their user account
                becomes expired again BUT their account will be deleted by
                Lifecycle Policy!</para>
              </listitem>
            </itemizedlist>

            <para>It allows Data Compliance to handle information stored by
            Joomla! itself, as well as any profile fields managed by third
            party components and plugins.</para>
          </section>

          <section xml:id="plugin-email">
            <title>Send emails on account deletion</title>

            <para>Plugin: Akeeba Data Compliance - Send emails on account
            deletion</para>

            <para>Enables all email features for Akeeba Data Compliance. It's
            recommended that you always enable this plugin.</para>

            <para><bridgehead>Options</bridgehead></para>

            <para><guilabel>Email users</guilabel>. Should emails be sent to
            users when their account is being deleted?</para>

            <para><guilabel>Email administrators</guilabel>. Should
            administrators (Super Users) receive emails when a user's account
            is being deleted?</para>

            <para><guilabel>Administrator emails</guilabel>. A list of email
            addresses to be emailed. One email per line. The emails must
            correspond to the email used by Super User accounts on your site,
            otherwise they will not receive any emails. If you leave it blank
            all Super Users on the site will be emailed.</para>
          </section>

          <section xml:id="plugin-s3">
            <title>Upload user deletion audit trail to Amazon S3</title>

            <para>Plugin: Data Compliance - Upload user deletion audit trail
            to Amazon S3</para>

            <para>Uploads the user deletion audit log records to Amazon S3.
            One JSON file per deleted user account is uploaded. You should
            configure it to use an Amazon S3 bucket with a suitable policy
            which disallows deletion of files. This helps you positively
            fulfill the recommendation of having an immutable audit log for
            data deletion actions on your site.</para>

            <bridgehead>Options</bridgehead>

            <variablelist>
              <varlistentry>
                <term>Access Key</term>

                <listitem>
                  <para>Your Amazon S3 Access Key</para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term>Secret Key</term>

                <listitem>
                  <para>Your Amazon S3 Secret Key</para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term>Use HTTPS</term>

                <listitem>
                  <para>If enabled, HTTPS will be used to connect to Amazon
                  S3. Strongly recommended.</para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term>Bucket</term>

                <listitem>
                  <para>The name of your Amazon S3 bucket where your files
                  will be stored in. The bucket must be already created; the
                  application can not create buckets.</para>

                  <warning>
                    <para><emphasis role="bold">DO NOT CREATE BUCKETS WITH
                    NAMES CONTAINING UPPERCASE LETTERS. AMAZON CLEARLY WARNS
                    AGAINST DOING THAT</emphasis>. If you use a bucket with
                    uppercase letters in its name it is very possible that the
                    application will not be able to upload anything to
                    it.</para>

                    <para>Please note that this is a limitation imposed by
                    Amazon itself. It is not something we can "fix" in the
                    application. If this is the case with your site, please
                    create a new bucket whose name only consists of lowercase
                    unaccented latin characters (a-z), numbers (0-9), dashes
                    and dots.</para>

                    <para>Moreover, you cannot use a bucket name with a dot in
                    its filename together with the Use HTTPS option. This is a
                    limitation of the HTTPS setup in Amazon S3 servers and
                    cannot be worked around.</para>
                  </warning>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term>Amazon S3 Region</term>

                <listitem>
                  <para>Please select which S3 Region you have created your
                  bucket in. This is MANDATORY for using the newer, more
                  secure, v4 signature method. You can see the region of your
                  bucket in your Amazon S3 management console. Right click on
                  a bucket and click on Properties. A new pane opens to the
                  left. The second row is labelled Region. This is where your
                  bucket was created in. Go back to Akeeba Data Compliance and
                  select the corresponding option from the drop-down.</para>

                  <important>
                    <para>If you choose the wrong region the connection WILL
                    fail.</para>
                  </important>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term>Signature method</term>

                <listitem>
                  <para>This option determines the authentication API which
                  will be used to "log in" the backup engine to your Amazon S3
                  bucket. You have two options:</para>

                  <itemizedlist>
                    <listitem>
                      <para><emphasis role="bold">v4 (preferred for Amazon
                      S3)</emphasis>. Recommended. You MUST specify the Amazon
                      S3 Region in the option above. This option implements
                      the newer AWS4 (v4) authentication API. Buckets created
                      in Amazon S3 regions brought online after January 2014
                      (e.g. Frankfurt) will only accept this option. Older
                      buckets will work with either option.</para>
                    </listitem>

                    <listitem>
                      <para><emphasis role="bold">v2 (legacy mode, third party
                      storage providers)</emphasis>. Legacy option. We
                      strongly advise against using it unless you have a
                      specific reason we can't think of.</para>
                    </listitem>
                  </itemizedlist>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term>Directory</term>

                <listitem>
                  <para>The directory inside your Amazon S3 bucket where your
                  files will be stored in. If you want to use subdirectories,
                  you have to use a forward slash, e.g.
                  <filename>directory/subdirectory/subsubdirectory</filename>.</para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term>Storage Class</term>

                <listitem>
                  <para>This determines how Amazon will store your files. We
                  recommend using Standard - Infrequent Access. This offers
                  decent data durability and results in smaller storage costs
                  if you don't retrieve the files too often, as is the case
                  with the audit log files.</para>
                </listitem>
              </varlistentry>
            </variablelist>
          </section>
        </section>
      </section>

      <section xml:id="cli-tools">
        <title>Other CLI tools</title>

        <para>Akeeba Data Compliance offers some optional command line
        interface (CLI) tools. CLI tools are meant for advanced users only who
        manage their sites using the command line, e.g. through an SSH
        console. Most people should use the administrator web interface in
        Joomla! instead.</para>

        <section xml:id="delete-user-cli">
          <title>Delete a user from the CLI</title>

          <para>Script location:
          <filename><replaceable>JOOMLA_ROOT</replaceable>/cli/datacompliance_account_delete.php</filename></para>

          <para>This script deletes any user account. It's equivalent to using
          the Delete option from the self-service page of that account.</para>

          <warning>
            <para>THIS IS IRREVERSIBLE. Once you delete it with this script,
            the user's personal information is gone forever.</para>
          </warning>

          <para>You can call this script using the following command
          line:</para>

          <programlisting><replaceable>/usr/local/bin/php</replaceable> <replaceable>JOOMLA_ROOT</replaceable>/cli/datacompliance_account_lifecycle.php --username=foobar</programlisting>

          <para>where <replaceable>/usr/local/bin/php</replaceable> is the
          path to your PHP CLI executable and
          <replaceable>JOOMLA_ROOT</replaceable> is the absolute path to your
          web site's root. You can get this information from your host.</para>

          <para>The script accepts the following parameters</para>

          <itemizedlist>
            <listitem>
              <para><option>--debug</option> When present it turns on debug
              mode. Only for developers. Do not use on live sites.</para>
            </listitem>

            <listitem>
              <para><option>--username</option> The username you want to
              delete, e.g. <option>--username=foobar</option></para>
            </listitem>

            <listitem>
              <para><option>--id</option> The numeric user ID you want to
              delete, e.g. <option>--id=123</option></para>
            </listitem>

            <listitem>
              <para><option>--force</option> Do not ask for confirmation,
              delete the user anyway. DANGEROUS!!!</para>
            </listitem>

            <listitem>
              <para><option>--dry-run</option> No deletions will take place.
              The script will run normally and output all actions it would be
              taking without really deleting any user account. Useful to test
              what will happen.</para>
            </listitem>
          </itemizedlist>
        </section>
      </section>
    </chapter>

    <chapter xml:id="cookie-compliance">
      <title>Cookie law (ePrivacy Directive) compliance</title>

      <section xml:id="cookie-quickstart">
        <title>Quick Start</title>

        <para>This is the 2' quick start for using the plugin. If you want to
        understand why you are doing what you're doing read the next section.
        All the pieces will fall into place.</para>

        <para><bridgehead>Create user groups</bridgehead></para>

        <para>Go to <guimenu>Users</guimenu>, <guisubmenu>Groups</guisubmenu>,
        <guimenuitem>Add New Group</guimenuitem>.</para>

        <para>Set the group title to <option>Accepted Cookies Group</option>
        and the parent to <option>Public</option>. Click on <guibutton>Save
        &amp; New</guibutton>.</para>

        <para>Set the group title to <option>Rejected Cookies Group</option>
        and the parent to <option>Public</option>. Click on <guibutton>Save
        &amp; Close</guibutton>.</para>

        <para><bridgehead>Create access levels</bridgehead></para>

        <para>Go to <guimenu>Users</guimenu>, <guisubmenu>Access
        Levels</guisubmenu>, <guimenuitem>Add New Access
        Level</guimenuitem>.</para>

        <para>Set the access level title to <option>Accepted Cookies</option>.
        Under <guilabel>User Groups Having Viewing Access</guilabel> select
        <option>Accepted Cookies Group</option>. Click on <guibutton>Save
        &amp; New</guibutton>.</para>

        <para>Set the access level title to <option>Rejected Cookies</option>.
        Under <guilabel>User Groups Having Viewing Access</guilabel> select
        <option>Rejected Cookies Group</option>. Click on <guibutton>Save
        &amp; New</guibutton>.</para>

        <para>Set the access level title to <option>Has Cookie
        Preference</option>. Under <guilabel>User Groups Having Viewing
        Access</guilabel> select both <option>Accepted Cookies Group</option>
        and <option>Rejected Cookies Group</option>. Click on <guibutton>Save
        &amp; Close</guibutton>.</para>

        <para><bridgehead>Create a custom HTML module (with Cookies Allowed
        Access access level)</bridgehead></para>

        <para>Go to <guimenu>Extensions</guimenu>,
        <guimenuitem>Modules</guimenuitem>. Click on
        <guibutton>New</guibutton>.</para>

        <para>Select the <guilabel>Custom</guilabel> option.</para>

        <para>Set the <guilabel>Title</guilabel> to <option>Cookie
        Controls</option>.</para>

        <para>Set <guilabel>Show Title</guilabel> to
        <option>Hide</option>.</para>

        <para>Set the <guilabel>Access</guilabel> to <option>Has Cookie
        Preference</option>.</para>

        <para>Set the <guilabel>Position</guilabel> to any position visible on
        your template. This is where the cookie controls will be shown once
        the user makes a choice (reject or accept cookies).</para>

        <para>In the main <guilabel>Custom</guilabel> area click on
        <guibutton>Toggle Editor</guibutton> and enter the following
        HTML</para>

        <programlisting>&lt;div id="akeeba-dccc-controls"&gt;&lt;/div&gt;</programlisting>

        <para>Finally, click on <guibutton>Save &amp;
        Close</guibutton>.</para>

        <para><bridgehead>Set up and enable the plugin</bridgehead></para>

        <para>Go to <guimenu>Extensions</guimenu>,
        <guimenuitem>Plugins</guimenuitem>.</para>

        <para>Find the <guilabel>System - Data Compliance Cookie
        Conformance</guilabel> plugin and click on it.</para>

        <para>Set the <guilabel>Cookies accepted User Group</guilabel> to
        <option>Accepted Cookies Group</option>.</para>

        <para>Set the <guilabel>Cookies rejected User Group</guilabel> to
        <option>Rejected Cookies Group</option>.</para>

        <para>Set the <guilabel>Privacy Policy URL</guilabel> to the URL of
        your site's privacy policy. If you don't have one yet and you just
        want to test the plugin leave it blank for now.</para>
      </section>

      <section xml:id="cookie-concepts">
        <title>How this is supposed to work</title>

        <bridgehead>Framing the issue we need to solve</bridgehead>

        <para>Sites and web pages in general may store information about the
        visitor on the visitor's browser in one of three ways (links to
        Mozilla Developer Network are given for context):</para>

        <itemizedlist>
          <listitem>
            <para><link
            xlink:href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies">Cookies</link>.
            Small text files sent to the browser with Set-Cookie HTTP headers
            and which are sent back by the browser to the server on every
            request. Cookies can also be set, modified or retrieved through
            JavaScript running on the page. </para>
          </listitem>

          <listitem>
            <para><link
            xlink:href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage">Local
            storage</link>. Limited amounts of content can be stored
            permanently with the browser using JavaScript. This content
            persists after the user session is closed, e.g. when the user
            closes and reopens their browser. Unlike cookies, this content
            cannot be set through HTTP headers and it is not sent to the
            browser. Like cookies, the content is persistent in the
            browser.</para>
          </listitem>

          <listitem>
            <para><link
            xlink:href="https://developer.mozilla.org/en-US/docs/Web/API/Window/sessionStorage">Session
            data</link>. It's similar to local storage with the difference
            that the content is removed as soon as the user session is
            closed.</para>
          </listitem>

          <listitem>
            <para>While it's possible to also store information using Adobe
            Flash cookies, the entire Adobe Flash technology is considered
            obsolete, insecure and is being phased out (modern browsers won't
            even let you run Flash content unless you jump through hoops).
            Therefore we decided not to bother with it.</para>
          </listitem>
        </itemizedlist>

        <para>For the purposes of the European Union ePrivacy Directive they
        are all considered the same. Therefore we will call it "storing
        information in the browser" throughout this section.</para>

        <bridgehead>Conformance and exceptions</bridgehead>

        <para>Conforming with the ePrivacy directive requires us to ask for
        the user's consent before we store any information in the browser. If
        they have not given explicit consent, or if they have declined to
        provide consent we must not store any information in the browser and
        prevent JavaScript from doing so. Moreover, we have to remove
        information already stored in the browser - but only if it's first
        party cookies since the browsers won't let us unset cookies set by
        other sites for security reasons.</para>

        <para>The user also has to be given a way to reconsider their
        preference. Especially when they have accepted storing information in
        the browser they need to be given a way to decline.</para>

        <para>A special note is due about "mandatory cookies". The lawmakers
        have realised that not all cookies can be avoided. The HTTP protocol
        used to deliver web pages is by its nature
        <emphasis>stateless</emphasis>, that is to say it does not "remember"
        who the user is, even with two subsequent requests coming from the
        same browser. This would make it impossible to log users into sites or
        to even remember their preferences, such as how many items they want
        to see on a page, between requests. Therefore it is allowed to send
        session and login cookies without explicit confirmation, as long as
        these cookies are not used for tracking the user beyond this narrow
        scope. To the best of our understanding Joomla's session and login
        state cookies are exactly that. You can choose to always allow them.
        If unsure, ask a lawyer. </para>

        <para>Moreover, we need to store the user's preference regarding
        cookie acceptance. This can only be done by means of a cookie and is,
        therefore, allowed again if it's not used for tracking outside that
        narrow scope. Our plugin does use a cookie like that and it's always
        allowed to be set. At the very least, when a user makes a choice
        regarding storing information in their browser will set this
        cookie.</para>

        <bridgehead>What the plugin does</bridgehead>

        <para>Akeeba DataCompliance does that by using a system plugin, System
        - Data Compliance Cookie Conformance.</para>

        <para>The system plugin is responsible for determining whether the
        user has made a choice regarding storing information in the browser,
        displaying the user interface elements to manage that choice and
        programmatically suppress new and existing information storage
        according to the user's choices.</para>

        <para>The interface is rendered by using plain HTML and CSS. Even if
        JavaScript is disabled by the user they will still see the legally
        required cookie banner. However, in this case, they will not be able
        to make a choice to allow or reject cookies since that part requires
        interaction with JavaScript. If they have made a choice the interface
        is rendered using JavaScript.</para>

        <bridgehead>Why do you need user groups and access levels</bridgehead>

        <para>The plugin also <emphasis>temporarily</emphasis> assigns the
        current user to specific user groups depending on their information
        storage choice (accepted or rejected). This is done dynamically and
        only for the current request. No information is stored in the
        database. This also works for guest users, i.e. visitors who have not
        logged in, and even if you have decided to block the Joomla! session
        cookie.</para>

        <para>Assigning user groups allows you to use access levels to load
        different plugins and show different modules to users depending on
        their information storage choices. For example, you can assign a
        Google Analytics plugin to a view access level that's only linked to
        your "accepted" user group to prevent the GA JavaScript from loading
        <emphasis>at all</emphasis> unless the visitor explicitly agrees to
        information storage. Conversely, you could show a module warning users
        that some functionality on your site depending on cookies may not work
        unless they accept the cookies.</para>

        <para>Akeeba DataCompliance automatically loads plugins which are
        limited by view levels linked to these dynamic user groups. Unlike
        competing solutions, this is not done "blindly", i.e. we won't load a
        plugin group which was not already requested to be loaded by code on
        your site. Furthermore, unlike competing solutions, system plugins
        loaded through this feature will be properly initialized (the
        onAfterInitialise event is triggered for system plugins), minimizing
        the chance of causing impossible to track bugs which would not happen
        had you not used our cookie plugin. Finally, we assign dynamic user
        groups to the current user in a way that makes it impossible for
        Joomla to tell that this user has not always belonged to that user
        group, therefore ensuring 100% compatibility with all existing Joomla!
        software. This is where our experience writing low-level parts of
        Joomla! itself comes in handy.</para>

        <bridgehead>Why do you need a custom HTML module</bridgehead>

        <para>When the user has made a choice for information storage we need
        a way to give them the option to reconsider their choices. This
        requires displaying some controls on the page. Typically, this is done
        by third party solutions displaying a tab or banner on the page. The
        former is hard to find. The latter is annoying. Both are likely to
        display ugly or be in awkward positions on the page.</para>

        <para>We want to give our users full control over the placement and
        display of the cookie controls. That's why you will need to create a
        custom HTML module with a special DIV which tells our plugin where to
        render the controls. The controls themselves, just like the banner,
        can be overridden with standard Joomla! template overrides. This makes
        for an ultimately customizable solution.</para>

        <para>Finally, we decided to use plain vanilla JavaScript without
        relying on any third party JavaScript framework. Therefore it doesn't
        matter if your site does not use jQuery or force unloads mooTools or
        does whatever funky thing with loading JavaScript frameworks. Our
        JavaScript will still work (unless something else on the page causes a
        JavaScript error which forces your browser to stop parsing JavaScript
        at all - this is something nobody can work around).</para>
      </section>

      <section xml:id="cookie-plugin">
        <title>Plugin reference</title>

        <para>(TODO - This section has not been written yet)</para>
      </section>

      <section xml:id="cookie-overrides">
        <title>Template overrides</title>

        <para>(TODO - This section has not been written yet)</para>
      </section>
    </chapter>

    <chapter xml:id="dev-reference">
      <title>Developer's reference</title>

      <section xml:id="translating">
        <title>Translating</title>

        <para>(Translations have not been set up yet - This section will be
        updated in the future)</para>
      </section>

      <section xml:id="templating">
        <title>Interface customization / templating</title>

        <para>See the <link linkend="self-service">Self-service page
        documentation</link>.</para>
      </section>

      <section xml:id="create-data-source-plugins">
        <title>Creating data source plugins</title>

        <para>(TODO - This section has not been written yet)</para>
      </section>

      <section xml:id="create-misc-plugins">
        <title>Creating other integration plugins</title>

        <para>(TODO - This section has not been written yet)</para>
      </section>
    </chapter>
  </part>

  <part xml:id="appendices">
    <title>Appendices</title>

    <appendix version="5.0" xml:id="gnu-fdl">
      <title>GNU Free Documentation License</title>

      <para>Copyright (C) 2000, 2001, 2002 Free Software Foundation,
      <abbrev>Inc.</abbrev> 51 Franklin <abbrev>St</abbrev> , Fifth Floor,
      Boston, <abbrev>MA</abbrev> 02110-1301 <abbrev
      role="initialism">USA</abbrev> . Everyone is permitted to copy and
      distribute verbatim copies of this license document, but changing it is
      not allowed.</para>

      <bridgehead renderas="sect1">0. PREAMBLE</bridgehead>

      <para>The purpose of this License is to make a manual, textbook, or
      other functional and useful document "free" in the sense of freedom: to
      assure everyone the effective freedom to copy and redistribute it, with
      or without modifying it, either commercially or noncommercially.
      Secondarily, this License preserves for the author and publisher a way
      to get credit for their work, while not being considered responsible for
      modifications made by others.</para>

      <para>This License is a kind of "copyleft", which means that derivative
      works of the document must themselves be free in the same sense. It
      complements the GNU General Public License, which is a copyleft license
      designed for free software.</para>

      <para>We have designed this License in order to use it for manuals for
      free software, because free software needs free documentation: a free
      program should come with manuals providing the same freedoms that the
      software does. But this License is not limited to software manuals; it
      can be used for any textual work, regardless of subject matter or
      whether it is published as a printed book. We recommend this License
      principally for works whose purpose is instruction or reference.</para>

      <bridgehead renderas="sect1">1. APPLICABILITY AND
      DEFINITIONS</bridgehead>

      <para>This License applies to any manual or other work, in any medium,
      that contains a notice placed by the copyright holder saying it can be
      distributed under the terms of this License. Such a notice grants a
      world-wide, royalty-free license, unlimited in duration, to use that
      work under the conditions stated herein. The "Document", below, refers
      to any such manual or work. Any member of the public is a licensee, and
      is addressed as "you". You accept the license if you copy, modify or
      distribute the work in a way requiring permission under copyright
      law.</para>

      <para>A "Modified Version" of the Document means any work containing the
      Document or a portion of it, either copied verbatim, or with
      modifications and/or translated into another language.</para>

      <para>A "Secondary Section" is a named appendix or a front-matter
      section of the Document that deals exclusively with the relationship of
      the publishers or authors of the Document to the Document's overall
      subject (or to related matters) and contains nothing that could fall
      directly within that overall subject. (Thus, if the Document is in part
      a textbook of mathematics, a Secondary Section may not explain any
      mathematics.) The relationship could be a matter of historical
      connection with the subject or with related matters, or of legal,
      commercial, philosophical, ethical or political position regarding
      them.</para>

      <para>The "Invariant Sections" are certain Secondary Sections whose
      titles are designated, as being those of Invariant Sections, in the
      notice that says that the Document is released under this License. If a
      section does not fit the above definition of Secondary then it is not
      allowed to be designated as Invariant. The Document may contain zero
      Invariant Sections. If the Document does not identify any Invariant
      Sections then there are none.</para>

      <para>The "Cover Texts" are certain short passages of text that are
      listed, as Front-Cover Texts or Back-Cover Texts, in the notice that
      says that the Document is released under this License. A Front-Cover
      Text may be at most 5 words, and a Back-Cover Text may be at most 25
      words.</para>

      <para>A "Transparent" copy of the Document means a machine-readable
      copy, represented in a format whose specification is available to the
      general public, that is suitable for revising the document
      straightforwardly with generic text editors or (for images composed of
      pixels) generic paint programs or (for drawings) some widely available
      drawing editor, and that is suitable for input to text formatters or for
      automatic translation to a variety of formats suitable for input to text
      formatters. A copy made in an otherwise Transparent file format whose
      markup, or absence of markup, has been arranged to thwart or discourage
      subsequent modification by readers is not Transparent. An image format
      is not Transparent if used for any substantial amount of text. A copy
      that is not "Transparent" is called "Opaque".</para>

      <para>Examples of suitable formats for Transparent copies include plain
      ASCII without markup, Texinfo input format, LaTeX input format, SGML or
      XML using a publicly available DTD, and standard-conforming simple HTML,
      PostScript or PDF designed for human modification. Examples of
      transparent image formats include PNG, XCF and JPG. Opaque formats
      include proprietary formats that can be read and edited only by
      proprietary word processors, SGML or XML for which the DTD and/or
      processing tools are not generally available, and the machine-generated
      HTML, PostScript or PDF produced by some word processors for output
      purposes only.</para>

      <para>The "Title Page" means, for a printed book, the title page itself,
      plus such following pages as are needed to hold, legibly, the material
      this License requires to appear in the title page. For works in formats
      which do not have any title page as such, "Title Page" means the text
      near the most prominent appearance of the work's title, preceding the
      beginning of the body of the text.</para>

      <para>A section "Entitled XYZ" means a named subunit of the Document
      whose title either is precisely XYZ or contains XYZ in parentheses
      following text that translates XYZ in another language. (Here XYZ stands
      for a specific section name mentioned below, such as "Acknowledgements",
      "Dedications", "Endorsements", or "History".) To "Preserve the Title" of
      such a section when you modify the Document means that it remains a
      section "Entitled XYZ" according to this definition.</para>

      <para>The Document may include Warranty Disclaimers next to the notice
      which states that this License applies to the Document. These Warranty
      Disclaimers are considered to be included by reference in this License,
      but only as regards disclaiming warranties: any other implication that
      these Warranty Disclaimers may have is void and has no effect on the
      meaning of this License.</para>

      <bridgehead renderas="sect1">2. VERBATIM COPYING</bridgehead>

      <para>You may copy and distribute the Document in any medium, either
      commercially or noncommercially, provided that this License, the
      copyright notices, and the license notice saying this License applies to
      the Document are reproduced in all copies, and that you add no other
      conditions whatsoever to those of this License. You may not use
      technical measures to obstruct or control the reading or further copying
      of the copies you make or distribute. However, you may accept
      compensation in exchange for copies. If you distribute a large enough
      number of copies you must also follow the conditions in section
      3.</para>

      <para>You may also lend copies, under the same conditions stated above,
      and you may publicly display copies.</para>

      <bridgehead renderas="sect1">3. COPYING IN QUANTITY</bridgehead>

      <para>If you publish printed copies (or copies in media that commonly
      have printed covers) of the Document, numbering more than 100, and the
      Document's license notice requires Cover Texts, you must enclose the
      copies in covers that carry, clearly and legibly, all these Cover Texts:
      Front-Cover Texts on the front cover, and Back-Cover Texts on the back
      cover. Both covers must also clearly and legibly identify you as the
      publisher of these copies. The front cover must present the full title
      with all words of the title equally prominent and visible. You may add
      other material on the covers in addition. Copying with changes limited
      to the covers, as long as they preserve the title of the Document and
      satisfy these conditions, can be treated as verbatim copying in other
      respects.</para>

      <para>If the required texts for either cover are too voluminous to fit
      legibly, you should put the first ones listed (as many as fit
      reasonably) on the actual cover, and continue the rest onto adjacent
      pages.</para>

      <para>If you publish or distribute Opaque copies of the Document
      numbering more than 100, you must either include a machine-readable
      Transparent copy along with each Opaque copy, or state in or with each
      Opaque copy a computer-network location from which the general
      network-using public has access to download using public-standard
      network protocols a complete Transparent copy of the Document, free of
      added material. If you use the latter option, you must take reasonably
      prudent steps, when you begin distribution of Opaque copies in quantity,
      to ensure that this Transparent copy will remain thus accessible at the
      stated location until at least one year after the last time you
      distribute an Opaque copy (directly or through your agents or retailers)
      of that edition to the public.</para>

      <para>It is requested, but not required, that you contact the authors of
      the Document well before redistributing any large number of copies, to
      give them a chance to provide you with an updated version of the
      Document.</para>

      <bridgehead renderas="sect1">4. MODIFICATIONS</bridgehead>

      <para>You may copy and distribute a Modified Version of the Document
      under the conditions of sections 2 and 3 above, provided that you
      release the Modified Version under precisely this License, with the
      Modified Version filling the role of the Document, thus licensing
      distribution and modification of the Modified Version to whoever
      possesses a copy of it. In addition, you must do these things in the
      Modified Version:</para>

      <orderedlist numeration="upperalpha">
        <listitem>
          <simpara>Use in the Title Page (and on the covers, if any) a title
          distinct from that of the Document, and from those of previous
          versions (which should, if there were any, be listed in the History
          section of the Document). You may use the same title as a previous
          version if the original publisher of that version gives
          permission.</simpara>
        </listitem>

        <listitem>
          <simpara>List on the Title Page, as authors, one or more persons or
          entities responsible for authorship of the modifications in the
          Modified Version, together with at least five of the principal
          authors of the Document (all of its principal authors, if it has
          fewer than five), unless they release you from this
          requirement.</simpara>
        </listitem>

        <listitem>
          <simpara>State on the Title page the name of the publisher of the
          Modified Version, as the publisher.</simpara>
        </listitem>

        <listitem>
          <simpara>Preserve all the copyright notices of the
          Document.</simpara>
        </listitem>

        <listitem>
          <simpara>Add an appropriate copyright notice for your modifications
          adjacent to the other copyright notices.</simpara>
        </listitem>

        <listitem>
          <simpara>Include, immediately after the copyright notices, a license
          notice giving the public permission to use the Modified Version
          under the terms of this License, in the form shown in the Addendum
          below.</simpara>
        </listitem>

        <listitem>
          <simpara>Preserve in that license notice the full lists of Invariant
          Sections and required Cover Texts given in the Document's license
          notice.</simpara>
        </listitem>

        <listitem>
          <simpara>Include an unaltered copy of this License.</simpara>
        </listitem>

        <listitem>
          <simpara>Preserve the section Entitled "History", Preserve its
          Title, and add to it an item stating at least the title, year, new
          authors, and publisher of the Modified Version as given on the Title
          Page. If there is no section Entitled "History" in the Document,
          create one stating the title, year, authors, and publisher of the
          Document as given on its Title Page, then add an item describing the
          Modified Version as stated in the previous sentence.</simpara>
        </listitem>

        <listitem>
          <simpara>Preserve the network location, if any, given in the
          Document for public access to a Transparent copy of the Document,
          and likewise the network locations given in the Document for
          previous versions it was based on. These may be placed in the
          "History" section. You may omit a network location for a work that
          was published at least four years before the Document itself, or if
          the original publisher of the version it refers to gives
          permission.</simpara>
        </listitem>

        <listitem>
          <simpara>For any section Entitled "Acknowledgements" or
          "Dedications", Preserve the Title of the section, and preserve in
          the section all the substance and tone of each of the contributor
          acknowledgements and/or dedications given therein.</simpara>
        </listitem>

        <listitem>
          <simpara>Preserve all the Invariant Sections of the Document,
          unaltered in their text and in their titles. Section numbers or the
          equivalent are not considered part of the section titles.</simpara>
        </listitem>

        <listitem>
          <simpara>Delete any section Entitled "Endorsements". Such a section
          may not be included in the Modified Version.</simpara>
        </listitem>

        <listitem>
          <simpara>Do not retitle any existing section to be Entitled
          "Endorsements" or to conflict in title with any Invariant
          Section.</simpara>
        </listitem>

        <listitem>
          <simpara>Preserve any Warranty Disclaimers.</simpara>
        </listitem>
      </orderedlist>

      <para>If the Modified Version includes new front-matter sections or
      appendices that qualify as Secondary Sections and contain no material
      copied from the Document, you may at your option designate some or all
      of these sections as invariant. To do this, add their titles to the list
      of Invariant Sections in the Modified Version's license notice. These
      titles must be distinct from any other section titles.</para>

      <para>You may add a section Entitled "Endorsements", provided it
      contains nothing but endorsements of your Modified Version by various
      parties--for example, statements of peer review or that the text has
      been approved by an organization as the authoritative definition of a
      standard.</para>

      <para>You may add a passage of up to five words as a Front-Cover Text,
      and a passage of up to 25 words as a Back-Cover Text, to the end of the
      list of Cover Texts in the Modified Version. Only one passage of
      Front-Cover Text and one of Back-Cover Text may be added by (or through
      arrangements made by) any one entity. If the Document already includes a
      cover text for the same cover, previously added by you or by arrangement
      made by the same entity you are acting on behalf of, you may not add
      another; but you may replace the old one, on explicit permission from
      the previous publisher that added the old one.</para>

      <para>The author(s) and publisher(s) of the Document do not by this
      License give permission to use their names for publicity for or to
      assert or imply endorsement of any Modified Version.</para>

      <bridgehead renderas="sect1">5. COMBINING DOCUMENTS</bridgehead>

      <para>You may combine the Document with other documents released under
      this License, under the terms defined in section 4 above for modified
      versions, provided that you include in the combination all of the
      Invariant Sections of all of the original documents, unmodified, and
      list them all as Invariant Sections of your combined work in its license
      notice, and that you preserve all their Warranty Disclaimers.</para>

      <para>The combined work need only contain one copy of this License, and
      multiple identical Invariant Sections may be replaced with a single
      copy. If there are multiple Invariant Sections with the same name but
      different contents, make the title of each such section unique by adding
      at the end of it, in parentheses, the name of the original author or
      publisher of that section if known, or else a unique number. Make the
      same adjustment to the section titles in the list of Invariant Sections
      in the license notice of the combined work.</para>

      <para>In the combination, you must combine any sections Entitled
      "History" in the various original documents, forming one section
      Entitled "History"; likewise combine any sections Entitled
      "Acknowledgements", and any sections Entitled "Dedications". You must
      delete all sections Entitled "Endorsements".</para>

      <bridgehead renderas="sect1">6. COLLECTIONS OF DOCUMENTS</bridgehead>

      <para>You may make a collection consisting of the Document and other
      documents released under this License, and replace the individual copies
      of this License in the various documents with a single copy that is
      included in the collection, provided that you follow the rules of this
      License for verbatim copying of each of the documents in all other
      respects.</para>

      <para>You may extract a single document from such a collection, and
      distribute it individually under this License, provided you insert a
      copy of this License into the extracted document, and follow this
      License in all other respects regarding verbatim copying of that
      document.</para>

      <bridgehead renderas="sect1">7. AGGREGATION WITH INDEPENDENT
      WORKS</bridgehead>

      <para>A compilation of the Document or its derivatives with other
      separate and independent documents or works, in or on a volume of a
      storage or distribution medium, is called an "aggregate" if the
      copyright resulting from the compilation is not used to limit the legal
      rights of the compilation's users beyond what the individual works
      permit. When the Document is included in an aggregate, this License does
      not apply to the other works in the aggregate which are not themselves
      derivative works of the Document.</para>

      <para>If the Cover Text requirement of section 3 is applicable to these
      copies of the Document, then if the Document is less than one half of
      the entire aggregate, the Document's Cover Texts may be placed on covers
      that bracket the Document within the aggregate, or the electronic
      equivalent of covers if the Document is in electronic form. Otherwise
      they must appear on printed covers that bracket the whole
      aggregate.</para>

      <bridgehead renderas="sect1">8. TRANSLATION</bridgehead>

      <para>Translation is considered a kind of modification, so you may
      distribute translations of the Document under the terms of section 4.
      Replacing Invariant Sections with translations requires special
      permission from their copyright holders, but you may include
      translations of some or all Invariant Sections in addition to the
      original versions of these Invariant Sections. You may include a
      translation of this License, and all the license notices in the
      Document, and any Warranty Disclaimers, provided that you also include
      the original English version of this License and the original versions
      of those notices and disclaimers. In case of a disagreement between the
      translation and the original version of this License or a notice or
      disclaimer, the original version will prevail.</para>

      <para>If a section in the Document is Entitled "Acknowledgements",
      "Dedications", or "History", the requirement (section 4) to Preserve its
      Title (section 1) will typically require changing the actual
      title.</para>

      <bridgehead renderas="sect1">9. TERMINATION</bridgehead>

      <para>You may not copy, modify, sublicense, or distribute the Document
      except as expressly provided for under this License. Any other attempt
      to copy, modify, sublicense or distribute the Document is void, and will
      automatically terminate your rights under this License. However, parties
      who have received copies, or rights, from you under this License will
      not have their licenses terminated so long as such parties remain in
      full compliance.</para>

      <bridgehead renderas="sect1">10. FUTURE REVISIONS OF THIS
      LICENSE</bridgehead>

      <para>The Free Software Foundation may publish new, revised versions of
      the GNU Free Documentation License from time to time. Such new versions
      will be similar in spirit to the present version, but may differ in
      detail to address new problems or concerns. See <link
      xlink:href="http://www.gnu.org/copyleft/">
      http://www.gnu.org/copyleft/</link> .</para>

      <para>Each version of the License is given a distinguishing version
      number. If the Document specifies that a particular numbered version of
      this License "or any later version" applies to it, you have the option
      of following the terms and conditions either of that specified version
      or of any later version that has been published (not as a draft) by the
      Free Software Foundation. If the Document does not specify a version
      number of this License, you may choose any version ever published (not
      as a draft) by the Free Software Foundation.</para>

      <bridgehead renderas="sect1">ADDENDUM: How to use this License for your
      documents</bridgehead>

      <para>To use this License in a document you have written, include a copy
      of the License in the document and put the following copyright and
      license notices just after the title page:</para>

      <blockquote>
        <para>Copyright (C) YEAR YOUR NAME.</para>

        <para>Permission is granted to copy, distribute and/or modify this
        document under the terms of the GNU Free Documentation License,
        Version 1.2 or any later version published by the Free Software
        Foundation; with no Invariant Sections, no Front-Cover Texts, and no
        Back-Cover Texts. A copy of the license is included in the section
        entitled "GNU Free Documentation License".</para>
      </blockquote>

      <para>If you have Invariant Sections, Front-Cover Texts and Back-Cover
      Texts, replace the "with...Texts." line with this:</para>

      <blockquote>
        <para>with the Invariant Sections being LIST THEIR TITLES, with the
        Front-Cover Texts being LIST, and with the Back-Cover Texts being
        LIST.</para>
      </blockquote>

      <para>If you have Invariant Sections without Cover Texts, or some other
      combination of the three, merge those two alternatives to suit the
      situation.</para>

      <para>If your document contains nontrivial examples of program code, we
      recommend releasing these examples in parallel under your choice of free
      software license, such as the GNU General Public License, to permit
      their use in free software.</para>
    </appendix>
  </part>
</book>
