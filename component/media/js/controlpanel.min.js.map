{"version":3,"sources":["controlpanel.js"],"names":[],"mappings":"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","file":"controlpanel.min.js","sourcesContent":["/**\n * @package   AkeebaDataCompliance\n * @copyright Copyright (c)2018-2022 Nicholas K. Dionysopoulos / Akeeba Ltd\n * @license   GNU General Public License version 3, or later\n */\n\"use strict\";\n\nif (typeof (akeeba) === \"undefined\")\n{\n    var akeeba = {};\n}\n\nif (typeof (akeeba.DataCompliance) === \"undefined\")\n{\n    akeeba.DataCompliance = {};\n}\n\nakeeba.DataCompliance.ControlPanel = {};\n\nakeeba.DataCompliance.ControlPanel.loadUserGraphs = function ()\n{\n    const ajaxUrl = Joomla.getOptions(\"com_datacompliance.controlpanel.userGraphsUrl\");\n\n    Joomla.request({\n        url:       ajaxUrl,\n        method:    \"GET\",\n        perform:   true,\n        onSuccess: rawJson =>\n                   {\n                       const data    = JSON.parse(rawJson);\n                       const ctx     = document.getElementById(\"adcExpiredUsers\").getContext(\"2d\");\n\n                       new Chart(ctx, {\n                           type:    \"doughnut\",\n                           data:    {\n                               labels:   [\n                                   Joomla.Text._(\"COM_DATACOMPLIANCE_CONTROLPANEL_LBL_CHART_INACTIVE\"),\n                                   Joomla.Text._(\"COM_DATACOMPLIANCE_CONTROLPANEL_LBL_CHART_ACTIVE\"),\n                                   Joomla.Text._(\"COM_DATACOMPLIANCE_CONTROLPANEL_LBL_CHART_DELETED\"),\n                               ],\n                               datasets: [\n                                   {\n                                       data:            [\n                                           data.expired, data.active, data.deleted\n                                       ],\n                                       backgroundColor: [\n                                           \"#ff0000\",\n                                           \"#009900\",\n                                           \"#666666\"\n                                       ],\n                                       borderWidth:     6\n                                   }\n                               ]\n                           },\n                           options: {\n                               cutout:  \"50%\",\n                               plugins: {\n                                   legend: {\n                                       display: false\n                                   }\n                               }\n                           }\n                       });\n                   }\n    });\n};\n\nakeeba.DataCompliance.ControlPanel.loadWipedGraphs = function ()\n{\n    const ajaxUrl = Joomla.getOptions(\"com_datacompliance.controlpanel.wipedGraphsUrl\");\n\n    Joomla.request({\n        url:       ajaxUrl,\n        method:    \"GET\",\n        perform:   true,\n        onSuccess: rawJson =>\n                   {\n                       const data  = JSON.parse(rawJson);\n                       const ctx     = document.getElementById(\"adcWipedUsers\").getContext(\"2d\");\n\n                       new Chart(ctx, {\n                           type:    \"bar\",\n                           data:    {\n                               datasets: [\n                                   {\n                                       label:           Joomla.Text._('COM_DATACOMPLIANCE_CONTROLPANEL_LBL_CHART_USER'),\n                                       backgroundColor: \"#009900\",\n                                       data:            data.user\n                                   },\n                                   {\n                                       label:           Joomla.Text._('COM_DATACOMPLIANCE_CONTROLPANEL_LBL_CHART_ADMIN'),\n                                       backgroundColor: \"#ff0000\",\n                                       data:            data.admin\n                                   },\n                                   {\n                                       label:           Joomla.Text._('COM_DATACOMPLIANCE_CONTROLPANEL_LBL_CHART_LIFECYCLE'),\n                                       backgroundColor: \"#666666\",\n                                       data:            data.lifecycle\n                                   },\n                               ],\n                           },\n                           options: {\n                               scales:  {\n                                   x: {\n                                       stacked:      true,\n                                       type:         \"time\",\n                                       time:         {\n                                           unit: \"day\"\n                                       },\n                                       distribution: \"linear\"\n                                   }\n                                   ,\n                                   y: {\n                                       type:    \"linear\",\n                                       stacked: true,\n                                       ticks:   {\n                                           callback: function (value, index, values)\n                                                     {\n                                                         return \"\" + value;\n                                                     }\n                                       }\n                                   }\n                               },\n                               plugins: {\n                                   legend: {\n                                       display:  true,\n                                       position: \"right\"\n                                   }\n                               }\n                           }\n                       });\n                   }\n    });\n};\n\nakeeba.DataCompliance.ControlPanel.loadUserGraphs();\nakeeba.DataCompliance.ControlPanel.loadWipedGraphs();"]}